# ğŸ“‹ ì• ë‹ˆíŒŒì´ë¸Œ ì „ìê²°ì¬ í¬ë¡¤ë§ ê°€ì´ë“œ

> ì´ ë¬¸ì„œëŠ” office.anyfive.com ì „ìê²°ì¬ ì‹œìŠ¤í…œì—ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ì—¬ ìƒˆë¡œìš´ ì‹œìŠ¤í…œìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê¸° ìœ„í•œ cmdsë¥¼ ë§Œë“œëŠ” ì „ì²´ ê³¼ì •ì…ë‹ˆë‹¤.
> íŒŒì¼ ì´ë¦„ì— AnyFiveOOJnlOOCrawler_OO í˜•ì‹ìœ¼ë¡œ ë˜ì–´ìˆëŠ”ê²ƒì€ ì—…ë¬´ê´€ë¦¬ ë°ì´í„° í¬ë¡¤ëŸ¬ë¡œ ì´ì— ê´€ë ¨ëœ ì„¤ëª…ì€ ëª¨ë‘ [any_jnl_crawling](https://github.com/000Lee/any_jnl_crawling.git)ì— ìˆìŠµë‹ˆë‹¤.
--
## ê²°ì¬ì„  í¬ë¡¤ë§
- ì„¤ëª…ê³¼ ìë°”ì½”ë“œëŠ” í˜„ì¬ ğŸ“‹ ì• ë‹ˆíŒŒì´ë¸Œ ì „ìê²°ì¬ í¬ë¡¤ë§ ê°€ì´ë“œ

> ì´ ë¬¸ì„œëŠ” office.anyfive.com ì „ìê²°ì¬ ì‹œìŠ¤í…œì—ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ì—¬ ìƒˆë¡œìš´ ì‹œìŠ¤í…œìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê¸° ìœ„í•œ cmdsë¥¼ ë§Œë“œëŠ” ì „ì²´ ê³¼ì •ì…ë‹ˆë‹¤.
> íŒŒì¼ ì´ë¦„ì— AnyFiveOOJnlOOCrawler_OO í˜•ì‹ìœ¼ë¡œ ë˜ì–´ìˆëŠ”ê²ƒì€ ì—…ë¬´ê´€ë¦¬ ë°ì´í„° í¬ë¡¤ëŸ¬ë¡œ ì´ì— ê´€ë ¨ëœ ì„¤ëª…ì€ ëª¨ë‘ [any_jnl_crawling](https://github.com/000Lee/any_jnl_crawling.git)ì— ìˆìŠµë‹ˆë‹¤.
> AnyFiveBoardPlusCrawler_attaches.java, AnyFiveBoardPlusCrawler_img.javaëŠ” ê²Œì‹œíŒ í¬ë¡¤ëŸ¬ë¡œ ì´ì— ê´€ë ¨ëœ ì„¤ëª…ì€ ëª¨ë‘ [any_board](https://github.com/000Lee/any_board.git)ì— ìˆìŠµë‹ˆë‹¤.
--
## ê²°ì¬ì„  í¬ë¡¤ë§
- ì„¤ëª…ê³¼ ìë°”ì½”ë“œëŠ” í˜„ì¬ í˜ì´ì§€ì„ ì°¸ê³ 
- íŒŒì´ì¬ì½”ë“œëŠ” [any_approval_plus](https://github.com/000Lee/any_approval_plus.git)ì„ ì°¸ê³ 
--
## ğŸ“‘ ëª©ì°¨

1. [ê°œìš”](#1-ê°œìš”)
2. [ì „ì²´ ì‘ì—… íë¦„](#2-ì „ì²´-ì‘ì—…-íë¦„)
3. [ì‚¬ì „ ì¤€ë¹„ - í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜](#3-ì‚¬ì „-ì¤€ë¹„---í•„ìˆ˜-ì†Œí”„íŠ¸ì›¨ì–´-ì„¤ì¹˜)
4. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •](#4-ë°ì´í„°ë² ì´ìŠ¤-ì„¤ì •)
5. [1ë‹¨ê³„: ë¬¸ì„œ ID ëª©ë¡ ì¶”ì¶œ](#5-1ë‹¨ê³„-ë¬¸ì„œ-id-ëª©ë¡-ì¶”ì¶œ-python)
6. [2ë‹¨ê³„: ë¬¸ì„œ ê¸°ë³¸ ì •ë³´ í¬ë¡¤ë§](#6-2ë‹¨ê³„-ë¬¸ì„œ-ê¸°ë³¸-ì •ë³´-í¬ë¡¤ë§-java)
7. [3ë‹¨ê³„: ì²¨ë¶€íŒŒì¼ í¬ë¡¤ë§](#7-3ë‹¨ê³„-ì²¨ë¶€íŒŒì¼-í¬ë¡¤ë§-java)
8. [4ë‹¨ê³„: ë³¸ë¬¸ ì´ë¯¸ì§€ í¬ë¡¤ë§](#8-4ë‹¨ê³„-ë³¸ë¬¸-ì´ë¯¸ì§€-í¬ë¡¤ë§-java)
9. [5ë‹¨ê³„: ë¬¸ì„œ ë³¸ë¬¸(HTML) í¬ë¡¤ë§](#9-5ë‹¨ê³„-ë¬¸ì„œ-ë³¸ë¬¸html-í¬ë¡¤ë§-java)
10. [6ë‹¨ê³„: ì¡°ì§ë„(ì¸ì‚¬ì •ë³´) DB ë°˜ì˜](#10-6ë‹¨ê³„-ì¡°ì§ë„ì¸ì‚¬ì •ë³´-db-ë°˜ì˜-python)
11. [7ë‹¨ê³„: CMDS í˜•ì‹ ë³€í™˜](#11-7ë‹¨ê³„-cmds-í˜•ì‹-ë³€í™˜-python)
12. [ë¬¸ì œ í•´ê²° (Troubleshooting)](#12-ë¬¸ì œ-í•´ê²°-troubleshooting)
13. [ì°¸ê³  ì‚¬í•­](#13-ì°¸ê³ -ì‚¬í•­)
14. [â­ì „ìê²°ì¬ ìµœì‹  ë²„ì „â­](#14-ì „ìê²°ì¬-ìµœì‹ -ë²„ì „)

---

## 1. ê°œìš”

### 1.1 ì´ ê°€ì´ë“œì˜ ëª©ì 

- ì• ë‹ˆíŒŒì´ë¸Œ ì „ìê²°ì¬ ì‹œìŠ¤í…œ(office.anyfive.com)ì— ì €ì¥ëœ ê²°ì¬ ë¬¸ì„œë“¤ì„ ì¶”ì¶œí•˜ì—¬ ìƒˆë¡œìš´ ì‹œìŠ¤í…œìœ¼ë¡œ ì´ì „í•˜ëŠ” cmdsë¥¼ ìƒì„±í•˜ëŠ” ì‘ì—…ì„ ë‹¨ê³„ë³„ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤.
- any_crawling_earlyVersionì€ ì²¨ë¶€íŒŒì¼,ì´ë¯¸ì§€,ì •ë³´ìˆ˜ì§‘ì„ í•œë²ˆì— í•˜ë©° ìƒì„¸ë¥¼ í•˜ë‚˜í•˜ë‚˜ ëˆŒëŸ¬ì„œ ë“¤ì–´ê°”ë‹¤ê°€ ë‚˜ì˜¤ê¸° ë•Œë¬¸ì— íƒ€ì„ì•„ì›ƒ ì˜¤ë¥˜ì— ì·¨ì•½í•˜ê³  ë³µêµ¬ ë¡œì§ ë˜í•œ ì•ˆì •ì ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. (ì‚¬ìš©ìê°€ ì¬ì‹œì‘ì ì„ ìˆ˜ë™ìœ¼ë¡œ ë§¤ë²ˆ ì„¤ì •í•´ì•¼í•©ë‹ˆë‹¤)
- any_crawlingì˜ ê²½ìš° ë¬¸ì„œ IDë§Œ ë”°ë¡œ í¬ë¡¤ë§í•´ì„œ ì‚¬ì „ìˆ˜ì§‘ì„ í•œê²ƒì„ ë°”íƒ•ìœ¼ë¡œ í˜¸ì¶œí•´ì„œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤. ì´ë¯¸ì§€, ì²¨ë¶€íŒŒì¼ ëª¨ë‘ ë”°ë¡œ ë‹¤ìš´ë°›ê³  DBì— ì €ì¥ë˜ì–´ ìˆì§€ ì•Šì€ ë°ì´í„°ë§Œ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•˜ë¯€ë¡œ ë³´ë‹¤ ì•ˆì •ì ìœ¼ë¡œ ì¬ì‹œì‘ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### 1.2 ì¶”ì¶œ ëŒ€ìƒ ë°ì´í„°

| í•­ëª© | ì„¤ëª… |
|------|------|
| ë¬¸ì„œ ê¸°ë³¸ ì •ë³´ | ë¬¸ì„œë²ˆí˜¸, ì œëª©, ê¸°ì•ˆì¼, ê¸°ì•ˆì, ì–‘ì‹ëª… ë“± |
| ê²°ì¬ í™œë™ | ê²°ì¬ë¼ì¸, ê²°ì¬ì¼ì‹œ, ê²°ì¬ì˜ê²¬ |
| ì°¸ì¡°ì/ì°¸ì¡°ë¬¸ì„œ | ì°¸ì¡°ì ëª©ë¡, ì—°ê²°ëœ ì°¸ì¡°ë¬¸ì„œ |
| ì²¨ë¶€íŒŒì¼ | ë¬¸ì„œì— ì²¨ë¶€ëœ ëª¨ë“  íŒŒì¼ |
| ë³¸ë¬¸ ì´ë¯¸ì§€ | ë¬¸ì„œ ë³¸ë¬¸ì— í¬í•¨ëœ ì´ë¯¸ì§€ |
| ë¬¸ì„œ ë³¸ë¬¸(HTML) | ì¸ì‡„ìš© HTML í˜•íƒœì˜ ë¬¸ì„œ ë³¸ë¬¸ |

---

## 2. ì „ì²´ ì‘ì—… íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì „ì²´ ë§ˆì´ê·¸ë ˆì´ì…˜ ì›Œí¬í”Œë¡œìš°                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[1ë‹¨ê³„] ë¬¸ì„œ ID ì¶”ì¶œ (Python)
    â”‚   â””â”€â”€ doc_ids.txt ìƒì„±
    â–¼
[2ë‹¨ê³„] ê¸°ë³¸ ì •ë³´ í¬ë¡¤ë§ (Java)
    â”‚   â””â”€â”€ new_documents í…Œì´ë¸”ì— ê¸°ë³¸ ì •ë³´ ì €ì¥
    â–¼
[3ë‹¨ê³„] ì²¨ë¶€íŒŒì¼ í¬ë¡¤ë§ (Java)
    â”‚   â”œâ”€â”€ íŒŒì¼ ë‹¤ìš´ë¡œë“œ: approval_{ì—°ë„}_new_attachments/
    â”‚   â””â”€â”€ DB attaches ì»¬ëŸ¼ ì—…ë°ì´íŠ¸
    â–¼
[4ë‹¨ê³„] ë³¸ë¬¸ ì´ë¯¸ì§€ í¬ë¡¤ë§ (Java)
    â”‚   â””â”€â”€ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ: approval_{ì—°ë„}_new_img/
    â–¼
[5ë‹¨ê³„] ë¬¸ì„œ ë³¸ë¬¸ í¬ë¡¤ë§ (Java)
    â”‚   â””â”€â”€ DB doc_body ì»¬ëŸ¼ ì—…ë°ì´íŠ¸
    â–¼
[6ë‹¨ê³„] ì¡°ì§ë„ ë°˜ì˜ (Python)
    â”‚   â””â”€â”€ ì¸ì‚¬ì •ë³´ CSVë¡œ DB ì—…ë°ì´íŠ¸
    â–¼
[7ë‹¨ê³„] CMDS í˜•ì‹ ë³€í™˜ (Python)
    â””â”€â”€ ìµœì¢… ë§ˆì´ê·¸ë ˆì´ì…˜ ë°ì´í„° ìƒì„±
```

---

## 3. ì‚¬ì „ ì¤€ë¹„ - í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜

### 3.1 Java ê°œë°œ í™˜ê²½

#### JDK ì„¤ì¹˜ (Java 11 ì´ìƒ)

1. [Oracle JDK ë‹¤ìš´ë¡œë“œ í˜ì´ì§€](https://www.oracle.com/java/technologies/downloads/) ì ‘ì†
2. Windows x64 Installer ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜
3. í™˜ê²½ë³€ìˆ˜ ì„¤ì •:
    - `JAVA_HOME`: JDK ì„¤ì¹˜ ê²½ë¡œ (ì˜ˆ: `C:\Program Files\Java\jdk-17`)
    - `Path`ì— `%JAVA_HOME%\bin` ì¶”ê°€

**ì„¤ì¹˜ í™•ì¸:**
```cmd
java -version
```

#### IntelliJ IDEA ì„¤ì¹˜ (ê¶Œì¥)

1. [IntelliJ IDEA ë‹¤ìš´ë¡œë“œ](https://www.jetbrains.com/idea/download/) ì ‘ì†
2. Community Edition (ë¬´ë£Œ) ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜

### 3.2 Python í™˜ê²½
ğŸ“‹ ì„¤ì¹˜ ë°©ë²• (2ê°€ì§€ ì¤‘ ì„ íƒ)

- ë°©ë²• 1: Anaconda ì„¤ì¹˜ 

**Anaconda í•˜ë‚˜ë§Œ ì„¤ì¹˜í•˜ë©´ Python + Jupyter + ê¸°ë³¸ íŒ¨í‚¤ì§€ê°€ ëª¨ë‘ ì„¤ì¹˜ë©ë‹ˆë‹¤.**

**ë‹¤ìš´ë¡œë“œ**: https://www.anaconda.com/download

**ì„¤ì¹˜ í›„ í™•ì¸:**
```bash
python --version
jupyter --version
```

**ì¶”ê°€ íŒ¨í‚¤ì§€ ì„¤ì¹˜:**
```bash
pip install selenium pymysql
```

---

- ë°©ë²• 2: ê°œë³„ ì„¤ì¹˜

#### 1. Python 3.8 ì´ìƒ ì„¤ì¹˜

**ë‹¤ìš´ë¡œë“œ**: https://www.python.org/downloads/

**ì„¤ì¹˜ ì‹œ ì£¼ì˜ì‚¬í•­:**
- âœ… "Add Python to PATH" ë°˜ë“œì‹œ ì²´í¬

**ì„¤ì¹˜ í™•ì¸:**
```bash
python --version
```

#### 2. Jupyter Notebook ì„¤ì¹˜
```bash
pip install jupyter
```

#### 3. í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜
```bash
pip install selenium pandas pymysql openpyxl
```

### 3.3 Chrome ë° ChromeDriver

#### Chrome ë¸Œë¼ìš°ì €

1. [Chrome ë‹¤ìš´ë¡œë“œ](https://www.google.com/chrome/) ì—ì„œ ì„¤ì¹˜

#### ChromeDriver ì„¤ì¹˜

1. Chrome ë²„ì „ í™•ì¸: Chrome ì£¼ì†Œì°½ì— `chrome://version` ì…ë ¥
2. [ChromeDriver ë‹¤ìš´ë¡œë“œ](https://googlechromelabs.github.io/chrome-for-testing/) ì ‘ì†
3. Chrome ë²„ì „ê³¼ ì¼ì¹˜í•˜ëŠ” ChromeDriver ë‹¤ìš´ë¡œë“œ
4. ì••ì¶• í•´ì œ í›„ ê²½ë¡œ ê¸°ì–µ (ì˜ˆ: `C:\Users\{ì‚¬ìš©ìëª…}\Downloads\chromedriver-win64\chromedriver.exe`)

### 3.4 MariaDB ì„¤ì¹˜

#### MariaDB ì„œë²„ ì„¤ì¹˜

1. [MariaDB ë‹¤ìš´ë¡œë“œ](https://mariadb.org/download/) ì ‘ì†
2. Windows MSI íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ
3. ì„¤ì¹˜ ì‹œ root ë¹„ë°€ë²ˆí˜¸ ì„¤ì • (ì˜ˆ: `1234`)
4. í¬íŠ¸: ê¸°ë³¸ê°’ `3306` ì‚¬ìš©

#### DBeaver ì„¤ì¹˜ (DB ê´€ë¦¬ ë„êµ¬)

1. [DBeaver ë‹¤ìš´ë¡œë“œ](https://dbeaver.io/download/) ì ‘ì†
2. Windows 64 bit installer ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜

### 3.5 Maven ì˜ì¡´ì„± (Java í”„ë¡œì íŠ¸ìš©)

IntelliJì—ì„œ ìƒˆ Maven í”„ë¡œì íŠ¸ ìƒì„± í›„ `pom.xml`ì— ë‹¤ìŒ ì˜ì¡´ì„± ì¶”ê°€:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>org.example</groupId>
    <artifactId>anyfive-crawler</artifactId>
    <version>1.0-SNAPSHOT</version>

    <properties>
        <maven.compiler.source>11</maven.compiler.source>
        <maven.compiler.target>11</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <dependencies>
        <!-- Selenium WebDriver -->
        <dependency>
            <groupId>org.seleniumhq.selenium</groupId>
            <artifactId>selenium-java</artifactId>
            <version>4.15.0</version>
        </dependency>

        <!-- MariaDB JDBC Driver -->
        <dependency>
            <groupId>org.mariadb.jdbc</groupId>
            <artifactId>mariadb-java-client</artifactId>
            <version>3.2.0</version>
        </dependency>

        <!-- Jsoup (HTML íŒŒì‹±) -->
        <dependency>
            <groupId>org.jsoup</groupId>
            <artifactId>jsoup</artifactId>
            <version>1.16.2</version>
        </dependency>
    </dependencies>
</project>
```

---

## 4. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

### 4.1 ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±

DBeaver ë˜ëŠ” ëª…ë ¹ì¤„ì—ì„œ ì‹¤í–‰:

```sql
-- ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
CREATE DATABASE any_approval CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ
USE any_approval;
```

### 4.2 í…Œì´ë¸” ìƒì„±
- ê¹ƒí—ˆë¸Œ any_crawlingì€ ì¦ë¶„ì¹˜ë¥¼ ìœ„í•´ ë‚˜ì¤‘ì— ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.
- ê¹ƒí—ˆë¸Œ any_htmlverì´ ì´ˆì•ˆì´ê³  í…Œì´ë¸”ëª…ì€ documentsì…ë‹ˆë‹¤.
- ê¹ƒí—ˆë¸Œ any_crawlingì€ new_documents í…Œì´ë¸”ì— ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
- new_documents í…Œì´ë¸”ì— ì •ë³´ë¥¼ ë‹¤ ì €ì¥ í•˜ê³  cmdsë¥¼ ìƒì„±í•œ ë’¤ì— documentsë¡œ ì¶”í›„ì— ì˜®ê²¨ì„œ ì €ì¥í•˜ì˜€ìŠµë‹ˆë‹¤.
- ì´ì™€ ê´€ë ¨í•´ì„œ ê¹ƒí—ˆë¸Œ any_htmlverì—ì„œ        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>org.example</groupId>
    <artifactId>anyfive-crawler</artifactId>
    <version>1.0-SNAPSHOT</version>

    <properties>
        <maven.compiler.source>11</maven.compiler.source>
        <maven.compiler.target>11</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <dependencies>
        <!-- Selenium WebDriver -->
        <dependency>
            <groupId>org.seleniumhq.selenium</groupId>
            <artifactId>selenium-java</artifactId>
            <version>4.15.0</version>
        </dependency>

        <!-- MariaDB JDBC Driver -->
        <dependency>
            <groupId>org.mariadb.jdbc</groupId>
            <artifactId>mariadb-java-client</artifactId>
            <version>3.2.0</version>
        </dependency>

        <!-- Jsoup (HTML íŒŒì‹±) -->
        <dependency>
            <groupId>org.jsoup</groupId>
            <artifactId>jsoup</artifactId>
            <version>1.16.2</version>
        </dependency>
    </dependencies>
</project>
```

---

## 4. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

### 4.1 ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±

DBeaver ë˜ëŠ” ëª…ë ¹ì¤„ì—ì„œ ì‹¤í–‰:

```sql
-- ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
CREATE DATABASE any_approval CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ
USE any_approval;
```

### 4.2 í…Œì´ë¸” ìƒì„±
- ê¹ƒí—ˆë¸Œ any_crawlingì€ ì¦ë¶„ì¹˜ë¥¼ ìœ„í•´ ë‚˜ì¤‘ì— ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.
- ê¹ƒí—ˆë¸Œ any_htmlverì´ ì´ˆì•ˆì´ê³  í…Œì´ë¸”ëª…ì€ documentsì…ë‹ˆë‹¤.
- ê¹ƒí—ˆë¸Œ any_crawlingì€ new_documents í…Œì´ë¸”ì— ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
- new_documents í…Œì´ë¸”ì— ì •ë³´ë¥¼ ë‹¤ ì €ì¥ í•˜ê³  cmdsë¥¼ ìƒì„±í•œ ë’¤ì— documentsë¡œ ì¶”í›„ì— ì˜®ê²¨ì„œ ì €ì¥í•˜ì˜€ìŠµë‹ˆë‹¤.
~~- ì´ì™€ ê´€ë ¨í•´ì„œ ê¹ƒí—ˆë¸Œ [any_htmlver](https://github.com/000Lee/any_htmlver.git)ì—ì„œ â­â­â­ëˆ„ë½ëœ ë¬¸ì„œ í™•ì¸ & ëŒ€ì²˜â­â­â­ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”~~
```sql
CREATE TABLE new_documents (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    source_id VARCHAR(50) NOT NULL COMMENT 'ì›ë³¸ ì‹œìŠ¤í…œ ë¬¸ì„œ ID',
    doc_num VARCHAR(100) COMMENT 'ë¬¸ì„œë²ˆí˜¸',
    doc_type VARCHAR(20) DEFAULT 'DRAFT' COMMENT 'ë¬¸ì„œìœ í˜•',
    title VARCHAR(500) COMMENT 'ì œëª©',
    doc_status VARCHAR(20) DEFAULT 'COMPLETE' COMMENT 'ë¬¸ì„œìƒíƒœ',
    created_at BIGINT COMMENT 'ê¸°ì•ˆì¼ (Unix timestamp)',
    drafter_name VARCHAR(100) COMMENT 'ê¸°ì•ˆì ì´ë¦„',
    drafter_position VARCHAR(100) COMMENT 'ê¸°ì•ˆì ì§ìœ„',
    drafter_dept VARCHAR(200) COMMENT 'ê¸°ì•ˆì ë¶€ì„œ',
    drafter_email VARCHAR(200) COMMENT 'ê¸°ì•ˆì ì´ë©”ì¼(ID)',
    drafter_dept_code VARCHAR(50) COMMENT 'ê¸°ì•ˆì ë¶€ì„œì½”ë“œ',
    form_name VARCHAR(200) COMMENT 'ì–‘ì‹ëª…',
    is_public TINYINT DEFAULT 0 COMMENT 'ë¬¸ì„œê³µê°œ ì—¬ë¶€ (0:ë¹„ê³µê°œ, 1:ê³µê°œ)',
    end_year INT NOT NULL COMMENT 'ëŒ€ìƒì—°ë„',
    `references` TEXT COMMENT 'ì°¸ì¡°ë¬¸ì„œ JSON',
    attaches TEXT COMMENT 'ì²¨ë¶€íŒŒì¼ JSON',
    referrers TEXT COMMENT 'ì°¸ì¡°ì JSON',
    activities TEXT COMMENT 'ê²°ì¬í™œë™ JSON',
    doc_body LONGTEXT COMMENT 'ë¬¸ì„œë³¸ë¬¸ HTML',
    created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    UNIQUE KEY uk_source_end (source_id, end_year),
    INDEX idx_end_year (end_year),
    INDEX idx_created_at (created_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```
```

---

## 5. 1ë‹¨ê³„: ì „ìê²°ì¬ ë¬¸ì„œ ID ì¶”ì¶œ
- íŒŒì¼ ìœ„ì¹˜ : any_htmlVer_all/ìƒˆë¡œìš´í¬ë¡¤ë§/í•´ë‹¹ ê¸°ê°„ ë‚´ì— ìˆëŠ” ë¬¸ì„œ IDë§Œ txtíŒŒì¼ë¡œ ê°€ì ¸ì˜¤ëŠ” íŒŒì´ì¬ì½”ë“œ.ipynb
  
### 5.1 ëª©ì 
íŠ¹ì • ê¸°ê°„ì˜ ì „ìê²°ì¬ ë¬¸ì„œ IDë“¤ì„ í…ìŠ¤íŠ¸ íŒŒì¼ë¡œ ì¶”ì¶œí•©ë‹ˆë‹¤. ì´ ID ëª©ë¡ì€ ì´í›„ ìƒì„¸ í¬ë¡¤ë§ì˜ ì…ë ¥ ë°ì´í„°ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

### 5.2 ì½”ë“œ ìˆ˜ì • (âš ï¸ ë°˜ë“œì‹œ ìˆ˜ì •)

íŒŒì¼: `í•´ë‹¹ ê¸°ê°„ ë‚´ì— ìˆëŠ” ë¬¸ì„œ IDë§Œ txtíŒŒì¼ë¡œ ê°€ì ¸ì˜¤ëŠ” íŒŒì´ì¬ì½”ë“œ.ipynb`

```python
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”§ ì„¤ì • (ì—¬ê¸°ë§Œ ìˆ˜ì •í•˜ì„¸ìš”!)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BASE_URL = "http://office.anyfive.com/home/"

# ê¸°ê°„ ì„¤ì •
START_DATE = "2025-01-01"  # â† ì—¬ê¸°ë¥¼ ìˆ˜ì •í•˜ì„¸ìš” - ì‹œì‘ì¼
END_DATE = "2025-12-31"    # â† ì—¬ê¸°ë¥¼ ìˆ˜ì •í•˜ì„¸ìš” - ì¢…ë£Œì¼

# ì¶œë ¥ íŒŒì¼ëª…
OUTPUT_FILE = "doc_ids_2025.txt"  # â† ì—¬ê¸°ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”
```

### 5.3 ì‹¤í–‰ ë°©ë²•

1. **Python ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰:**
```cmd
python ë¬¸ì„œIDì¶”ì¶œ.py
```
í˜¹ì€ í•´ë‹¹ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ctrl + enter
2. **ë¸Œë¼ìš°ì €ê°€ ì—´ë¦¬ë©´ ìˆ˜ë™ ì‘ì—… ìˆ˜í–‰:**

   â‘  ë¡œê·¸ì¸ (ID/PW ì…ë ¥)

   â‘¡ ì¢Œì¸¡ ë©”ë‰´ì—ì„œ **"ì „ìê²°ì¬"** í´ë¦­

   â‘¢ **"ê²°ì¬ ë¬¸ì„œê´€ë¦¬"** í´ë¦­

   â‘£ í•„í„° ì„¤ì •:
    - ìƒíƒœ: **ì™„ë£Œ** ì„ íƒ
    - ì‹œì‘ì¼: ì„¤ì •í•œ START_DATE ì…ë ¥
    - ì¢…ë£Œì¼: ì„¤ì •í•œ END_DATE ì…ë ¥

   â‘¤ **"ì¡°íšŒ"** ë²„íŠ¼ í´ë¦­

   â‘¥ ê·¸ë¦¬ë“œ(ëª©ë¡)ê°€ í™”ë©´ì— ë‚˜íƒ€ë‚˜ë©´ **Enter** í‚¤ ì…ë ¥

3. **ìë™ ì¶”ì¶œ ì§„í–‰:**
    - ìŠ¤í¬ë¦½íŠ¸ê°€ ëª¨ë“  í˜ì´ì§€ë¥¼ ìˆœíšŒí•˜ë©° ë¬¸ì„œ ID ìˆ˜ì§‘
    - ì™„ë£Œ ì‹œ `doc_ids_2025.txt` íŒŒì¼ ìƒì„±

### 5.4 ê²°ê³¼ë¬¼

```
# doc_ids_2025.txt ì˜ˆì‹œ
"27444","28456","29777","30123","31456",...
```

---

## 6. 2ë‹¨ê³„: ë¬¸ì„œ ê¸°ë³¸ ì •ë³´ í¬ë¡¤ë§ (Java)

### 6.1 ëª©ì 

1ë‹¨ê³„ì—ì„œ ì¶”ì¶œí•œ ë¬¸ì„œ IDë¥¼ ì´ìš©í•˜ì—¬ ê° ë¬¸ì„œì˜ ìƒì„¸ ì •ë³´ë¥¼ í¬ë¡¤ë§í•©ë‹ˆë‹¤.

### 6.2 ì½”ë“œ ìˆ˜ì • (âš ï¸ ë°˜ë“œì‹œ ìˆ˜ì •)

íŒŒì¼: `AnyFiveNewCrawler.java`

```java
// ========== í¬ë¡¬ ë“œë¼ì´ë²„ ê²½ë¡œ ==========
private static final String WEB_DRIVER_PATH = 
    "C:/Users/LEEJUHWAN/Downloads/chromedriver-win64/chromedriver-win64/chromedriver.exe";
    // â†‘ ë³¸ì¸ì˜ ChromeDriver ê²½ë¡œë¡œ ìˆ˜ì •

// ========== DB ì—°ê²° ì •ë³´ ==========
private static final String DB_URL = "jdbc:mariadb://localhost:3306/any_approval";
private static final String DB_USER = "root";
private static final String DB_PASSWORD = "1234";  // â† DB ë¹„ë°€ë²ˆí˜¸ ìˆ˜ì •

// ========== ëŒ€ìƒ ì—°ë„ ==========
private static final int END_YEAR = 2025;  // â† í¬ë¡¤ë§ ëŒ€ìƒ ì—°ë„ ìˆ˜ì •

// ========== í¬ë¡¤ë§ ëŒ€ìƒ ë¬¸ì„œ ID ëª©ë¡ ==========
private static final String[] TARGET_DOCUMENT_IDS = {
    "27444","28456","29777","30123","31456"
    // â†‘ 1ë‹¨ê³„ì—ì„œ ìƒì„±í•œ doc_ids.txt ë‚´ìš©ì„ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ê¸°
    // ìŒë”°ì˜´í‘œëŠ” ìœ ì§€í•˜ê³ , ì‰¼í‘œë¡œ êµ¬ë¶„
};
```

### 6.3 doc_ids.txt â†’ Java ë°°ì—´ ë³€í™˜ ë°©ë²•

1. `doc_ids.txt` íŒŒì¼ ì—´ê¸°
2. ì „ì²´ ë‚´ìš© ë³µì‚¬ (Ctrl+A â†’ Ctrl+C)
3. `TARGET_DOCUMENT_IDS` ë°°ì—´ ì•ˆì— ë¶™ì—¬ë„£ê¸°

**ë³€í™˜ ì˜ˆì‹œ:**
```
// doc_ids.txt ë‚´ìš©:
"27444","28456","29777"

// Java ì½”ë“œì— ë¶™ì—¬ë„£ê¸°:
private static final String[] TARGET_DOCUMENT_IDS = {
    "27444","28456","29777"
};
```

### 6.4 ì‹¤í–‰ ë°©ë²•

1. IntelliJì—ì„œ `AnyFiveNewCrawler.java` ì—´ê¸°
2. `main` ë©”ì„œë“œ ì˜†ì˜ â–¶ ë²„íŠ¼ í´ë¦­ ë˜ëŠ” Shift+F10

### 6.5 ì‹¤í–‰ ê³¼ì •

```
0ë‹¨ê³„: ì´ë¯¸ ì²˜ë¦¬ëœ ë¬¸ì„œ ID ì¡°íšŒ ì‹œì‘.
  > ì´ë¯¸ ì²˜ë¦¬ëœ ë¬¸ì„œ ìˆ˜: 0
  > ì²˜ë¦¬í•  ë¬¸ì„œ ìˆ˜: 150

2ë‹¨ê³„: ë¡œê·¸ì¸ ë° ë©”ë‰´ ì§„ì….
  > ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì™„ë£Œ.
  > 'ë‹¤ìŒì— ë³€ê²½í•˜ê¸°' íŒì—… ë‹«ê¸° ì™„ë£Œ.
  > Iframe ì „í™˜ ì„±ê³µ.
  > 'ì „ìê²°ì¬' ì•„ì´ì½˜ í´ë¦­ ì™„ë£Œ.
  > 'ê²°ì¬ë¬¸ì„œê´€ë¦¬' ë©”ë‰´ í´ë¦­ ì™„ë£Œ.

3ë‹¨ê³„: í¬ë¡¤ë§ ì‹œì‘.
  > [1/150] ë¬¸ì„œ ID: 27444 ì²˜ë¦¬ ì¤‘...
    > ì €ì¥ ì™„ë£Œ: 2025ë…„ 1ì›” ì¶œì¥ë¹„ ì •ì‚°

  > [2/150] ë¬¸ì„œ ID: 28456 ì²˜ë¦¬ ì¤‘...
    > ì €ì¥ ì™„ë£Œ: ì—°ê°„ êµìœ¡ê³„íšì„œ

=== ì§„í–‰ ìƒí™©: 10/150 (ì„±ê³µ: 10, ì‹¤íŒ¨: 0) ===

4ë‹¨ê³„: í¬ë¡¤ë§ ì™„ë£Œ.
  > ì´ ì²˜ë¦¬: 150
  > ì„±ê³µ: 148
  > ì‹¤íŒ¨: 2
```

### 6.6 ê²°ê³¼ë¬¼

- **DB í…Œì´ë¸”**: `new_documents`ì— ë¬¸ì„œ ê¸°ë³¸ ì •ë³´ ì €ì¥
- **ì €ì¥ë˜ëŠ” ì»¬ëŸ¼**: source_id, doc_num, title, created_at, drafter_name, form_name, is_public, references, referrers, activities

### 6.7 ì¬ì‹¤í–‰ ì‹œ

- í”„ë¡œê·¸ë¨ ì‹œì‘ ì‹œ new_documents í…Œì´ë¸”ì—ì„œ ì´ë¯¸ ì €ì¥ëœ source_idë¥¼ ì¡°íšŒí•´ì„œ ì²˜ë¦¬ ì—¬ë¶€ë¥¼ íŒë‹¨í•œ í›„ ì´ë¯¸ ì²˜ë¦¬ëœ ë¬¸ì„œëŠ” ìë™ìœ¼ë¡œ ìŠ¤í‚µë©ë‹ˆë‹¤

---

## 7. 3ë‹¨ê³„: ì²¨ë¶€íŒŒì¼ í¬ë¡¤ë§ (Java)

### 7.1 ëª©ì 

DBì— ì €ì¥ëœ ë¬¸ì„œë“¤ì˜ ì²¨ë¶€íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ê³ , ê²½ë¡œ ì •ë³´ë¥¼ DBì— ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

### 7.2 ì½”ë“œ ìˆ˜ì • (âš ï¸ ë°˜ë“œì‹œ ìˆ˜ì •)

íŒŒì¼: `AnyFiveNewCrawler_attaches.java`

```java
// ========== í¬ë¡¬ ë“œë¼ì´ë²„ ê²½ë¡œ ==========
private static final String WEB_DRIVER_PATH = 
    "C:/Users/LEEJUHWAN/Downloads/chromedriver-win64/chromedriver-win64/chromedriver.exe";

//------------------------------------ì—¬ê¸°ë¶€í„° ìˆ˜ì •í•˜ì„¸ìš”

// ========== DB ì—°ê²° ì •ë³´ ==========
private static final String DB_URL = "jdbc:mariadb://localhost:3306/any_approval";
private static final String DB_USER = "root";
private static final String DB_PASSWORD = "1234";

// ========== ëŒ€ìƒ ì—°ë„ ==========
private static final int END_YEAR = 2025;  // â† í¬ë¡¤ë§ ëŒ€ìƒ ì—°ë„

// ========== íŒŒì¼ ì €ì¥ ê²½ë¡œ ==========
private static final String DOWNLOAD_BASE_PATH = 
    "C:/Users/LEEJUHWAN/Downloads/approval_2025_new_attachments";
    // â†‘ ì²¨ë¶€íŒŒì¼ì´ ì €ì¥ë  í´ë” ê²½ë¡œ

// ========== DBì— ì €ì¥ë  ê²½ë¡œ í”„ë¦¬í”½ìŠ¤ ==========
private static final String DB_PATH_PREFIX = 
    "/PMS_SITE-U7OI43JLDSMO/approval/approval_2025_new_attachments";
    // â†‘ ìƒˆ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•  ê²½ë¡œ (ì—°ë„ì— ë§ê²Œ ìˆ˜ì •)

//------------------------------------ì—¬ê¸°ê¹Œì§€ ìˆ˜ì •í•˜ì„¸ìš”
```

### 7.3 ì‹¤í–‰ ë°©ë²•

1. IntelliJì—ì„œ `AnyFiveNewCrawler_attaches.java` ì—´ê¸°
2. `main` ë©”ì„œë“œ ì˜†ì˜ â–¶ ë²„íŠ¼ í´ë¦­ ë˜ëŠ” Shift+F10

### 7.4 ê²°ê³¼ë¬¼

**í´ë” êµ¬ì¡°:**
```
C:/Users/LEEJUHWAN/Downloads/approval_2025_new_attachments/
â”œâ”€â”€ apr27444/
â”‚   â”œâ”€â”€ ì¶œì¥ë¹„ì •ì‚°ì„œ.xlsx
â”‚   â””â”€â”€ ì˜ìˆ˜ì¦.pdf
â”œâ”€â”€ apr28456/
â”‚   â””â”€â”€ êµìœ¡ê³„íšì„œ.docx
â””â”€â”€ apr29777/
    â”œâ”€â”€ íšŒì˜ë¡.hwp
    â””â”€â”€ ì²¨ë¶€ì´ë¯¸ì§€.png
```

**DB attaches ì»¬ëŸ¼:**
```json
[
  {"name": "ì¶œì¥ë¹„ì •ì‚°ì„œ.xlsx", "path": "/PMS_SITE-U7OI43JLDSMO/approval/approval_2025_new_attachments/apr27444/ì¶œì¥ë¹„ì •ì‚°ì„œ.xlsx"},
  {"name": "ì˜ìˆ˜ì¦.pdf", "path": "/PMS_SITE-U7OI43JLDSMO/approval/approval_2025_new_attachments/apr27444/ì˜ìˆ˜ì¦.pdf"}
]
```
- í”„ë¡œê·¸ë¨ ì‹œì‘ ì‹œ new_documents í…Œì´ë¸”ì—ì„œ attachesê°€ ë¹„ì–´ìˆëŠ” ë¬¸ì„œë§Œ ì¡°íšŒí•´ì„œ ì²˜ë¦¬ ì—¬ë¶€ë¥¼ íŒë‹¨í•œ í›„ ì´ë¯¸ ì²˜ë¦¬ëœ ë¬¸ì„œëŠ” ìë™ìœ¼ë¡œ ìŠ¤í‚µë©ë‹ˆë‹¤
---

## 8. 4ë‹¨ê³„: ë³¸ë¬¸ ì´ë¯¸ì§€ í¬ë¡¤ë§ (Java)

### 8.1 ëª©ì 

ë¬¸ì„œ ë³¸ë¬¸ì— í¬í•¨ëœ ì´ë¯¸ì§€(`<img>` íƒœê·¸)ë“¤ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.

### 8.2 ì½”ë“œ ìˆ˜ì • (âš ï¸ ë°˜ë“œì‹œ ìˆ˜ì •)

íŒŒì¼: `AnyFiveNewCrawler_img.java`

```java
// ========== í¬ë¡¬ ë“œë¼ì´ë²„ ê²½ë¡œ ==========
private static final String WEB_DRIVER_PATH = 
    "C:/Users/LEEJUHWAN/Downloads/chromedriver-win64/chromedriver-win64/chromedriver.exe";

//------------------------------------ì—¬ê¸°ë¶€í„° ìˆ˜ì •í•˜ì„¸ìš”

// ========== DB ì—°ê²° ì •ë³´ ==========
private static final String DB_URL = "jdbc:mariadb://localhost:3306/any_approval";
private static final String DB_USER = "root";
private static final String DB_PASSWORD = "1234";

// ========== ëŒ€ìƒ ì—°ë„ ==========
private static final int END_YEAR = 2025;

// ========== ì´ë¯¸ì§€ ì €ì¥ ê²½ë¡œ ==========
private static final String DOWNLOAD_BASE_PATH = 
    "C:/Users/LEEJUHWAN/Downloads/approval_2025_new_img";

// ========== ì²˜ë¦¬ ì™„ë£Œ ëª©ë¡ íŒŒì¼ (ì¬ì‹œì‘ ì‹œ í™œìš©) ==========
private static final String PROCESSED_IDS_FILE = 
    DOWNLOAD_BASE_PATH + "/processed_ids.txt";

// ========== ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ ==========
private static final String ERROR_LOG_FILE = 
    DOWNLOAD_BASE_PATH + "/download_errors.log";

//------------------------------------ì—¬ê¸°ê¹Œì§€ ìˆ˜ì •í•˜ì„¸ìš”
```

### 8.3 ì‹¤í–‰ ë°©ë²•

1. IntelliJì—ì„œ `AnyFiveNewCrawler_img.java` ì—´ê¸°
2. `main` ë©”ì„œë“œ ì˜†ì˜ â–¶ ë²„íŠ¼ í´ë¦­ ë˜ëŠ” Shift+F10

### 8.4 íŠ¹ì§•

- **ìë™ ì¬ì‹œì‘ ì§€ì›**: `processed_ids.txt` íŒŒì¼ë¡œ ì§„í–‰ ìƒí™© ì €ì¥
- **ì¤‘ë‹¨ í›„ ì¬ì‹¤í–‰**: ì´ë¯¸ ì²˜ë¦¬ëœ ë¬¸ì„œëŠ” ìë™ ìŠ¤í‚µ
- **ì—ëŸ¬ ë¡œê¹…**: ì‹¤íŒ¨í•œ ì´ë¯¸ì§€ëŠ” `download_errors.log`ì— ê¸°ë¡

### 8.5 ê²°ê³¼ë¬¼

**í´ë” êµ¬ì¡°:**
```
C:/Users/LEEJUHWAN/Downloads/approval_2025_new_img/
â”œâ”€â”€ processed_ids.txt          # ì²˜ë¦¬ ì™„ë£Œ ëª©ë¡
â”œâ”€â”€ download_errors.log        # ì—ëŸ¬ ë¡œê·¸
â”œâ”€â”€ apr27444/
â”‚   â”œâ”€â”€ 0.jpg                  # ì²« ë²ˆì§¸ ì´ë¯¸ì§€
â”‚   â”œâ”€â”€ 1.jpg                  # ë‘ ë²ˆì§¸ ì´ë¯¸ì§€
â”‚   â””â”€â”€ 2.jpg                  # ì„¸ ë²ˆì§¸ ì´ë¯¸ì§€
â”œâ”€â”€ apr28456/
â”‚   â””â”€â”€ 0.jpg
â””â”€â”€ ...
```

---

## 9. 5ë‹¨ê³„: ë¬¸ì„œ ë³¸ë¬¸(HTML) í¬ë¡¤ë§ (Java)

### 9.1 ëª©ì 

ì¸ì‡„ í˜ì´ì§€ë¥¼ HTMLë¡œ ì¶”ì¶œí•˜ì—¬ 1ì¤„ë¡œ ì••ì¶•í•œ í›„ DBì— ì €ì¥í•©ë‹ˆë‹¤.

### 9.2 ì‚¬ì „ ì¤€ë¹„

**CSS íŒŒì¼ í•„ìš”**: ì• ë‹ˆíŒŒì´ë¸Œ í™ˆí˜ì´ì§€ì—ì„œ ë‹¤ìš´ë¡œë“œí•œ CSS íŒŒì¼ì´ í•„ìš”í•©ë‹ˆë‹¤.
- src/main/resources/css/apr.doc.print.jstl.css
### 9.3 ì½”ë“œ ìˆ˜ì • (âš ï¸ ë°˜ë“œì‹œ ìˆ˜ì •)

íŒŒì¼: `AnyFiveNewCrawler_docBody.java`

```java
//------------------------------------ì—¬ê¸°ë¶€í„° ìˆ˜ì •í•˜ì„¸ìš”
// ========== í¬ë¡¬ ë“œë¼ì´ë²„ ê²½ë¡œ ==========
private static final String WEB_DRIVER_PATH = 
    "C:/Users/LEEJUHWAN/Downloads/chromedriver-win64/chromedriver-win64/chromedriver.exe";


// ========== DB ì—°ê²° ì •ë³´ ==========
private static final String DB_URL = "jdbc:mariadb://localhost:3306/any_approval";
private static final String DB_USER = "root";
private static final String DB_PASSWORD = "1234";

// ========== ëŒ€ìƒ ì—°ë„ ==========
private static final int END_YEAR = 2025;

// ========== CSS íŒŒì¼ ê²½ë¡œ ==========
private static final String CSS_FILE_PATH = 
    "src/main/resources/css/apr.doc.print.jstl.css";


// ========== ì´ë¯¸ì§€ ê²½ë¡œ í”„ë¦¬í”½ìŠ¤ ==========
private static final String IMG_PATH_PREFIX = 
    "/PMS_SITE-U7OI43JLDSMO/approval/approval_2025_new_img";
    // â†‘ 4ë‹¨ê³„ì—ì„œ ë‹¤ìš´ë¡œë“œí•œ ì´ë¯¸ì§€ ê²½ë¡œì™€ ë§¤ì¹­

//------------------------------------ì—¬ê¸°ê¹Œì§€ ìˆ˜ì •í•˜ì„¸ìš”
```

### 9.4 ì‹¤í–‰ ë°©ë²•

1. IntelliJì—ì„œ `AnyFiveNewCrawler_docBody.java` ì—´ê¸°
2. `main` ë©”ì„œë“œ ì˜†ì˜ â–¶ ë²„íŠ¼ í´ë¦­ ë˜ëŠ” Shift+F10

### 9.5 ì²˜ë¦¬ ë‚´ìš©

ì´ í¬ë¡¤ëŸ¬ëŠ” ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:

1. ê° ë¬¸ì„œì˜ ì¸ì‡„ í˜ì´ì§€ ì—´ê¸°
2. HTML ì¶”ì¶œ
3. ë¶ˆí•„ìš”í•œ ì„¹ì…˜ ì œê±° (ì²¨ë¶€íŒŒì¼ ì˜ì—­, ê²°ì¬ì˜ê²¬, ê²°ì¬ëŒ“ê¸€, ì¡°íšŒì)
4. ì´ë¯¸ì§€ src ê²½ë¡œ ë³€í™˜ (`/image/namoimage/...` â†’ `/PMS_SITE.../0.jpg`)
5. CSS ì¸ë¼ì¸ ì‚½ì…
6. HTML ì••ì¶• (minify)
7. DB `doc_body` ì»¬ëŸ¼ì— ì €ì¥

### 9.6 ê²°ê³¼ë¬¼

**DB doc_body ì˜ˆì‹œ:**
```html
<div id="middle" style="margin-top:45px;"><div class="content">...ë¬¸ì„œë‚´ìš©...</div></div><style>.content{width:80% !important;}...</style>
```

---

## 10. 6ë‹¨ê³„: ì¡°ì§ë„(ì¸ì‚¬ì •ë³´) DB ë°˜ì˜ (Python)

### 10.1 ëª©ì 

- ì¸ì‚¬ì •ë³´ CSV íŒŒì¼ì„ ì½ì–´ì„œ DBì˜ ê²°ì¬ì/ì°¸ì¡°ì ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

### 10.2 ì‚¬ì „ ì¤€ë¹„

- ê¹ƒí—ˆë¸Œì—ì„œ any_htmlVer_all/ìƒˆë¡œìš´í¬ë¡¤ë§/6(NewUser_insert).ipynb ë‹¤ìš´ë¡œë“œ
- 6(NewUser_insert).ipynbì™€ ê°™ì€ ìœ„ì¹˜ì— any_htmlVer_all/ìƒˆë¡œìš´í¬ë¡¤ë§/ì¸ì‚¬ì •ë³´_ë¶€ì„œì½”ë“œì¶”ê°€.csvë¥¼ ë‹¤ìš´

**CSV í˜•ì‹:**
```csv
ì‚¬ì›ëª…,ID,ë¶€ì„œ,ì‚¬ì›ë²ˆí˜¸,ì§ìœ„,ë¶€ì„œì½”ë“œ
í™ê¸¸ë™,hong,ê²½ì˜ì§€ì›íŒ€,200101010001,ì±…ì„,DEPT001
ê¹€ì² ìˆ˜,kim,ê°œë°œíŒ€,200201020002,ì„ ì„,DEPT002
...
```

### 10.3 ì½”ë“œ ìˆ˜ì • (âš ï¸ ë°˜ë“œì‹œ ìˆ˜ì •)

íŒŒì¼: `6(NewUser_insert).py`

```python
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ì„¤ì • #ì—¬ê¸°ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# DB ì„¤ì •
DB_CONFIG = {
    'host': 'localhost',
    'user': 'root',
    'password': '1234',          # â† DB ë¹„ë°€ë²ˆí˜¸
    'database': 'any_approval'
}

CSV_FILE = 'ì¸ì‚¬ì •ë³´_ë¶€ì„œì½”ë“œì¶”ê°€.csv'  # â† CSV íŒŒì¼ ê²½ë¡œ
```

### 10.4 ì‹¤í–‰ ë°©ë²•

```cmd
python 6(NewUser_insert).py
```
í˜¹ì€ ctrl + enter

### 10.5 ì²˜ë¦¬ ë‚´ìš©

| êµ¬ë¶„ | í˜„ì§ì (CSVì— ìˆìŒ) | í‡´ì‚¬ì (CSVì— ì—†ìŒ) |
|------|---------------------|---------------------|
| ê¸°ì•ˆì | CSV ì •ë³´ë¡œ ì—…ë°ì´íŠ¸ | email='master', ì´ë¦„ë§Œ ë‚¨ê¸°ê³  ê³µë€ |
| activities | CSV ì •ë³´ë¡œ ì—…ë°ì´íŠ¸ | ì´ë¦„ë§Œ ë‚¨ê¸°ê³  ê³µë€ |
| referrers | empNo, deptCode ì¶”ê°€ | ì´ë¦„ë§Œ ë‚¨ê¸°ê³  ê³µë€ |

### 10.6 ê²°ê³¼ë¬¼

**ì—…ë°ì´íŠ¸ ì „:**
```json
{
  "name": "í™ê¸¸ë™",
  "emailId": "",
  "deptName": "",
  "positionName": "",
  "deptCode": ""
}
```

**ì—…ë°ì´íŠ¸ í›„:**
```json
{
  "name": "í™ê¸¸ë™",
  "emailId": "hong",
  "deptName": "ê²½ì˜ì§€ì›íŒ€",
  "positionName": "ì±…ì„",
  "deptCode": "DEPT001"
}
```

---

## 11. 7ë‹¨ê³„: CMDS í˜•ì‹ ë³€í™˜ (Python)

### 11.1 ëª©ì 

DBì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ìµœì¢… ë§ˆì´ê·¸ë ˆì´ì…˜ í˜•ì‹(CMDS)ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.

### 11.2 ì‚¬ì „ ì¤€ë¹„

- ê¹ƒí—ˆë¸Œì—ì„œ any_htmlver/ìƒˆë¡œìš´í¬ë¡¤ë§/12_8(DBì—ì„œ cmdsë¡œ ë³€í™˜).ipynb ë‹¤ìš´ë¡œë“œ

### 11.2 ì‹¤í–‰

```cmd
python 12_8(DBì—ì„œ cmdsë¡œ ë³€í™˜).py
```
í˜¹ì€ ctrl + enter

## ğŸ› ï¸ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜ì •í•´ì•¼ í•  ê²ƒë“¤
### Notepad++ ì •ê·œì‹ ì‘ì—…
**doc_sourceId_ìˆ«ì ë¶™ì´ê¸°**
- íŒ¨í„´: `("sourceId":\s*")(\d+)(")`
- ì¹˜í™˜: `\1doc_\2_ìˆ«ì\3`
- ì—¬ê¸°ì„œ ìˆ«ì = ì´ê´€ ì‹œë„ íšŸìˆ˜ "deptName": "",
  "positionName": "",
  "deptCode": ""
}
```

**ì—…ë°ì´íŠ¸ í›„:**
```json
{
  "name": "í™ê¸¸ë™",
  "emailId": "hong",
  "deptName": "ê²½ì˜ì§€ì›íŒ€",
  "positionName": "ì±…ì„",
  "deptCode": "DEPT001"
}
```

---

## 11. 7ë‹¨ê³„: CMDS í˜•ì‹ ë³€í™˜ (Python)

### 11.1 ëª©ì 

DBì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ìµœì¢… ë§ˆì´ê·¸ë ˆì´ì…˜ í˜•ì‹(CMDS)ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.

### 11.2 ì‚¬ì „ ì¤€ë¹„

- ê¹ƒí—ˆë¸Œì—ì„œ any_htmlver/ìƒˆë¡œìš´í¬ë¡¤ë§/12_8(DBì—ì„œ cmdsë¡œ ë³€í™˜).ipynb ë‹¤ìš´ë¡œë“œ

### 11.2 ì‹¤í–‰

```cmd
python 12_8(DBì—ì„œ cmdsë¡œ ë³€í™˜).py
```
í˜¹ì€ ctrl + enter

## ğŸ› ï¸ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜ì •í•´ì•¼ í•  ê²ƒë“¤
### Notepad++ ì •ê·œì‹ ì‘ì—…
**doc_sourceId_ìˆ«ì ë¶™ì´ê¸°**
- íŒ¨í„´: `("sourceId":\s*")(\d+)(")`
- ì¹˜í™˜: `\1doc_\2_ìˆ«ì\3`
- ì—¬ê¸°ì„œ ìˆ«ì = ì´ê´€ ì‹œë„ íšŸìˆ˜
---

## 12. ë¬¸ì œ í•´ê²° (Troubleshooting)

### 12.1 ChromeDriver ê´€ë ¨ ì˜¤ë¥˜

**ì˜¤ë¥˜ ë©”ì‹œì§€:**
```
SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version XX
```

**í•´ê²°:**
1. Chrome ë²„ì „ í™•ì¸: `chrome://version`
2. í•´ë‹¹ ë²„ì „ì˜ ChromeDriver ë‹¤ìš´ë¡œë“œ
3. `WEB_DRIVER_PATH` ê²½ë¡œ ìˆ˜ì •

### 12.2 DB ì—°ê²° ì˜¤ë¥˜

**ì˜¤ë¥˜ ë©”ì‹œì§€:**
```
Communications link failure
```

**í•´ê²°:**
1. MariaDB ì„œë¹„ìŠ¤ ì‹¤í–‰ í™•ì¸: `services.msc` â†’ MariaDB ì„œë¹„ìŠ¤ ì‹œì‘
2. í¬íŠ¸ ë²ˆí˜¸ í™•ì¸ (ê¸°ë³¸: 3306)
3. ë°©í™”ë²½ ì„¤ì • í™•ì¸

### 12.3 ë¡œê·¸ì¸ ì‹¤íŒ¨

**ì¦ìƒ**: ë¸Œë¼ìš°ì €ê°€ ì—´ë¦¬ì§€ë§Œ ë¡œê·¸ì¸ì´ ì•ˆ ë¨

**í•´ê²°:**
1. ìˆ˜ë™ìœ¼ë¡œ ë¸Œë¼ìš°ì €ì—ì„œ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
2. ID/PW í™•ì¸
3. ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸

### 12.4 ë©”ëª¨ë¦¬ ë¶€ì¡±

**ì¦ìƒ**: ëŒ€ëŸ‰ í¬ë¡¤ë§ ì‹œ Out of Memory

**í•´ê²°:**
1. ë¬¸ì„œ IDë¥¼ ë°°ì¹˜(batch)ë¡œ ë‚˜ëˆ„ì–´ ì‹¤í–‰ (ì˜ˆ: 500ê°œì”©)
2. Java í™ ë©”ëª¨ë¦¬ ì¦ê°€: `-Xmx2g` ì˜µì…˜ ì¶”ê°€

### 12.5 í¬ë¡¤ë§ ì¤‘ë‹¨ í›„ ì¬ì‹œì‘

**ìƒí™©**: í¬ë¡¤ë§ ë„ì¤‘ ì˜¤ë¥˜ë¡œ ì¤‘ë‹¨ë¨

**í•´ê²°:**
- **2ë‹¨ê³„ (ê¸°ë³¸ì •ë³´)**: ìë™ìœ¼ë¡œ ì²˜ë¦¬ëœ ë¬¸ì„œ ìŠ¤í‚µ (DB ê¸°ì¤€)
- **3ë‹¨ê³„ (ì²¨ë¶€íŒŒì¼)**: attaches ì»¬ëŸ¼ì´ ë¹„ì–´ìˆëŠ” ë¬¸ì„œë§Œ ì²˜ë¦¬
- **4ë‹¨ê³„ (ì´ë¯¸ì§€)**: `processed_ids.txt` ê¸°ì¤€ìœ¼ë¡œ ìë™ ìŠ¤í‚µ
- **5ë‹¨ê³„ (ë³¸ë¬¸)**: doc_body ì»¬ëŸ¼ì´ ë¹„ì–´ìˆëŠ” ë¬¸ì„œë§Œ ì²˜ë¦¬

### 12.6 í•œê¸€ ì¸ì½”ë”© ì˜¤ë¥˜

**ì¦ìƒ**: íŒŒì¼ëª…ì´ë‚˜ ë‚´ìš©ì´ ê¹¨ì§

**í•´ê²°:**
1. DB charset í™•ì¸: `utf8mb4`
2. íŒŒì¼ ì €ì¥ ì‹œ UTF-8 ì¸ì½”ë”© ì‚¬ìš©
3. CSV íŒŒì¼: UTF-8 with BOM ë˜ëŠ” `utf-8-sig` ì¸ì½”ë”©

---

## ğŸ“Œ ì¶”ê°€ í¬ë¡¤ëŸ¬ ê°€ì´ë“œ

### ì¶”ê°€ í¬ë¡¤ëŸ¬ ëª©ë¡

| í¬ë¡¤ëŸ¬ | íŒŒì¼ëª… | ëª©ì  |
|--------|--------|------|
| ê²°ì¬ ë¼ì¸ í¬ë¡¤ëŸ¬ | `AnyFiveActiviesCrawler.java` | ê²°ì¬ ìˆœì„œ/ìƒíƒœ/ê²°ì¬ì ì •ë³´ ìˆ˜ì§‘ |
| ê²°ì¬ ë¼ì¸ í¬ë¡¤ëŸ¬ (IDëª©ë¡ ì§ì ‘ ì…ë ¥) | `AnyFiveActiviesCrawler_plus.java` | íŠ¹ì • ë¬¸ì„œë§Œ ì„ íƒì  í¬ë¡¤ë§ |
| ê²°ì¬ ëŒ“ê¸€ í¬ë¡¤ëŸ¬ | `AnyFiveCommentCrawler.java` | ê²°ì¬ ë¬¸ì„œì˜ ëŒ“ê¸€ ìˆ˜ì§‘ |
| ëˆ„ë½ ì²¨ë¶€íŒŒì¼ í¬ë¡¤ëŸ¬ | `AnyFivePlusCrawler_attaches.java` | ëˆ„ë½ëœ ì²¨ë¶€íŒŒì¼ ë³´ì™„ ë‹¤ìš´ë¡œë“œ |
| ì°¸ì¡°ë¬¸ì„œ í¬ë¡¤ëŸ¬ | `AnyFiveReferenceDocCrawler.java` | ë‹¤ìš´ë¡œë“œíŒŒì¼ì— ì°¸ì¡°ë¬¸ì„œ ì •ë³´ ì—†ì–´ì„œ ë”°ë¡œ í¬ë¡¤ë§ |
| ë©”íƒ€ë°ì´í„° í¬ë¡¤ëŸ¬ ìˆ˜ì •íŒ | `AnyFiveNewCrawler9670.java` | ìƒì„¸ì ‘ì† í›„ í˜¸ì¶œí•œ ë¬¸ì„œì™€ í˜¸ì¶œëœ ë¬¸ì„œê°€ ê°™ì€ì§€ í™•ì¸|
---

## A. ê²°ì¬ ë¼ì¸ ë°ì´í„° í¬ë¡¤ë§ (AnyFiveActiviesCrawler)

### A.1 ëª©ì 

ì „ìê²°ì¬ ë¬¸ì„œì˜ **ê²°ì¬ ë¼ì¸ ì •ë³´**ë¥¼ ì¶”ì¶œí•˜ì—¬ ë³„ë„ í…Œì´ë¸”ì— ì €ì¥í•©ë‹ˆë‹¤.

| ì¶”ì¶œ í•­ëª© | ì„¤ëª… |
|-----------|------|
| sequence | ê²°ì¬ ìˆœì„œ |
| status | ê²°ì¬ ìƒíƒœ (ìŠ¹ì¸, ë°˜ë ¤ ë“±) |
| approval_date | ê²°ì¬ ì¼ì‹œ |
| department | ê²°ì¬ì ë¶€ì„œ |
| approver | ê²°ì¬ì ì´ë¦„ |

### A.2 ì‚¬ì „ ì¤€ë¹„

**í…Œì´ë¸” ìƒì„±:**
```sql
CREATE TABLE approval_data_2025 (
    record_id INT(11) AUTO_INCREMENT PRIMARY KEY,
    document_id VARCHAR(255) NOT NULL COMMENT 'ë¬¸ì„œ ID',
    post_title VARCHAR(512) COMMENT 'ë¬¸ì„œ ì œëª©',
    sequence INT(11) COMMENT 'ê²°ì¬ ìˆœì„œ',
    status VARCHAR(50) COMMENT 'ê²°ì¬ ìƒíƒœ',
    approval_date VARCHAR(50) COMMENT 'ê²°ì¬ ì¼ì‹œ',
    department VARCHAR(100) COMMENT 'ê²°ì¬ì ë¶€ì„œ',
    approver VARCHAR(100) COMMENT 'ê²°ì¬ì ì´ë¦„',
    
    INDEX idx_document_id (document_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

**document_sources í…Œì´ë¸” í•„ìš”:**
- í¬ë¡¤ë§ ëŒ€ìƒ ë¬¸ì„œ IDëŠ” `document_sources` í…Œì´ë¸”ì˜ `source_id` ì»¬ëŸ¼ì—ì„œ ë¡œë“œë©ë‹ˆë‹¤.
- `end_year = 2025` ì¡°ê±´ìœ¼ë¡œ í•„í„°ë§ë©ë‹ˆë‹¤.

### A.3 ì½”ë“œ ìˆ˜ì • (âš ï¸ ë°˜ë“œì‹œ ìˆ˜ì •)

íŒŒì¼: `AnyFiveActiviesCrawler.java`

```java
// ========== í¬ë¡¬ ë“œë¼ì´ë²„ ê²½ë¡œ ==========
private static final String WEB_DRIVER_PATH = 
    "C:/Users/LEEJUHWAN/Downloads/chromedriver-win64/chromedriver-win64/chromedriver.exe";
    // â†‘ ë³¸ì¸ì˜ ChromeDriver ê²½ë¡œë¡œ ìˆ˜ì •

// ========== DB ì—°ê²° ì •ë³´ ==========
private static final String DB_URL = "jdbc:mariadb://localhost:3306/any_approval";
private static final String DB_USER = "root";
private static final String DB_PASSWORD = "1234";  // â† DB ë¹„ë°€ë²ˆí˜¸ ìˆ˜ì •
```

### A.4 ì‹¤í–‰ ë°©ë²•

1. IntelliJì—ì„œ `AnyFiveActiviesCrawler.java` ì—´ê¸°
2. `main` ë©”ì„œë“œ ì˜†ì˜ â–¶ ë²„íŠ¼ í´ë¦­ ë˜ëŠ” Shift+F10

### A.5 ì‹¤í–‰ ê³¼ì •

```
0ë‹¨ê³„: DBì—ì„œ í¬ë¡¤ë§í•  ë¬¸ì„œ ID ëª©ë¡ ë¡œë“œ ì‹œì‘.
  > DB ë¡œë“œ ì™„ë£Œ. ì´ 500ê°œì˜ ë¬¸ì„œ ID í™•ì¸.

2ë‹¨ê³„: ë¡œê·¸ì¸ ë° ë©”ë‰´ ì§„ì….
  > ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì™„ë£Œ.
  > 'ì „ìê²°ì¬' ì•„ì´ì½˜ í´ë¦­ ì™„ë£Œ.
  > 'ê²°ì¬ë¬¸ì„œê´€ë¦¬' ë©”ë‰´ í´ë¦­ ì™„ë£Œ.

3ë‹¨ê³„: DB ì¬ì—°ê²° ì„±ê³µ (ê±´ë³„ ì‚½ì… ì¤€ë¹„).
  > ë¬¸ì„œ ID: 27444 ì²˜ë¦¬ ì¤‘...
    > ê²°ì¬ ë¼ì¸ í…Œì´ë¸” ë¡œë“œ í™•ì¸. (ì œëª©: 2025ë…„ 1ì›” ì¶œì¥ë¹„ ì •ì‚°)
    > ë°°ì¹˜ ì‹¤í–‰ ë° ì»¤ë°‹ ì™„ë£Œ. (5 rows inserted for 27444)
    > ëª©ë¡ í˜ì´ì§€ë¡œ ë³µê·€.

4ë‹¨ê³„: ëª¨ë“  DB ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.
  > ì´ 2500ê°œ í–‰ DBì— ì‚½ì… ì™„ë£Œ.
```

### A.6 ì¬ì‹¤í–‰ ì‹œ

- ì´ë¯¸ `approval_data_2025` í…Œì´ë¸”ì— ì¡´ì¬í•˜ëŠ” `document_id`ëŠ” **ìë™ìœ¼ë¡œ ìŠ¤í‚µ**ë©ë‹ˆë‹¤.
- ì¤‘ë‹¨ í›„ ì¬ì‹¤í–‰í•´ë„ ì¤‘ë³µ ì‚½ì… ì—†ì´ ì´ì–´ì„œ ì§„í–‰ë©ë‹ˆë‹¤.

### A.7 ê²°ê³¼ë¬¼

**DB í…Œì´ë¸” ì˜ˆì‹œ:**
| document_id | post_title | sequence | status | approval_date | department | approver |
|-------------|------------|----------|--------|---------------|------------|----------|
| 27444 | ì¶œì¥ë¹„ ì •ì‚° | 1 | ê¸°ì•ˆ | 2025-01-15 09:30 | ê°œë°œíŒ€ | í™ê¸¸ë™ |
| 27444 | ì¶œì¥ë¹„ ì •ì‚° | 2 | ìŠ¹ì¸ | 2025-01-15 10:15 | ê°œë°œíŒ€ | ê¹€ì² ìˆ˜ |
| 27444 | ì¶œì¥ë¹„ ì •ì‚° | 3 | ìŠ¹ì¸ | 2025-01-15 14:00 | ê²½ì˜ì§€ì›íŒ€ | ì´ì˜í¬ |

---

## B. ê²°ì¬ ë¼ì¸ ë°ì´í„° í¬ë¡¤ë§ - ë¬¸ì„œID ì§ì ‘ ì…ë ¥ ë²„ì „ (AnyFiveActiviesCrawler_plus)

### B.1 ëª©ì 

**íŠ¹ì • ë¬¸ì„œ IDë§Œ ì„ íƒì ìœ¼ë¡œ** ê²°ì¬ ë¼ì¸ ë°ì´í„°ë¥¼ í¬ë¡¤ë§í•©ë‹ˆë‹¤. DBì—ì„œ ìë™ ë¡œë“œí•˜ì§€ ì•Šê³  ì½”ë“œì— ì§ì ‘ IDë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

### B.2 ì‚¬ìš© ì‹œì 

- íŠ¹ì • ê¸°ê°„ì˜ ë¬¸ì„œë§Œ ì¶”ê°€ë¡œ í¬ë¡¤ë§í•  ë•Œ
- ëˆ„ë½ëœ ë¬¸ì„œë¥¼ ë³´ì™„í•  ë•Œ
- í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ì†Œìˆ˜ì˜ ë¬¸ì„œë§Œ ì²˜ë¦¬í•  ë•Œ

### B.3 ì‚¬ì „ ì¤€ë¹„

**í…Œì´ë¸” ìƒì„±:**
```sql
CREATE TABLE approval_data_plus (
    record_id INT(11) AUTO_INCREMENT PRIMARY KEY,
    document_id VARCHAR(255) NOT NULL COMMENT 'ë¬¸ì„œ ID',
    post_title VARCHAR(512) COMMENT 'ë¬¸ì„œ ì œëª©',
    sequence INT(11) COMMENT 'ê²°ì¬ ìˆœì„œ',
    status VARCHAR(50) COMMENT 'ê²°ì¬ ìƒíƒœ',
    approval_date VARCHAR(50) COMMENT 'ê²°ì¬ ì¼ì‹œ',
    department VARCHAR(100) COMMENT 'ê²°ì¬ì ë¶€ì„œ',
    approver VARCHAR(100) COMMENT 'ê²°ì¬ì ì´ë¦„',
    
    INDEX idx_document_id (document_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### B.4 ì½”ë“œ ìˆ˜ì • (âš ï¸ ë°˜ë“œì‹œ ìˆ˜ì •)

íŒŒì¼: `AnyFiveActiviesCrawler_plus.java`

```java
// ========== í¬ë¡¬ ë“œë¼ì´ë²„ ê²½ë¡œ ==========
private static final String WEB_DRIVER_PATH = 
    "C:/Users/LEEJUHWAN/Downloads/chromedriver-win64/chromedriver-win64/chromedriver.exe";

// ========== DB ì—°ê²° ì •ë³´ ==========
private static final String DB_URL = "jdbc:mariadb://localhost:3306/any_approval";
private static final String DB_USER = "root";
private static final String DB_PASSWORD = "1234";

// ========== í¬ë¡¤ë§ ëŒ€ìƒ ë¬¸ì„œ ID ëª©ë¡ - ì—¬ê¸°ì— ì§ì ‘ ì…ë ¥ ==========
private static final String[] TARGET_DOCUMENT_IDS = {
    "26836938","26824807","26824251","26821433","26820164"
    // â†‘ í¬ë¡¤ë§í•  ë¬¸ì„œ IDë¥¼ ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥
};
```

### B.5 ì‹¤í–‰ ë°©ë²•

1. `TARGET_DOCUMENT_IDS` ë°°ì—´ì— í¬ë¡¤ë§í•  ë¬¸ì„œ ID ì…ë ¥
2. IntelliJì—ì„œ `AnyFiveActiviesCrawler_plus.java` ì‹¤í–‰

### B.6 ì¬ì‹¤í–‰ ì‹œ

- `approval_data_plus` í…Œì´ë¸”ì—ì„œ ì´ë¯¸ ì²˜ë¦¬ëœ `document_id`ë¥¼ ì¡°íšŒí•˜ì—¬ ìë™ ìŠ¤í‚µ
- ì¤‘ë‹¨ í›„ ì¬ì‹¤í–‰ ì‹œ ì²˜ë¦¬ë˜ì§€ ì•Šì€ ë¬¸ì„œë§Œ ì§„í–‰

---

## C. ê²°ì¬ ëŒ“ê¸€ í¬ë¡¤ë§ (AnyFiveCommentCrawler)

### C.1 ëª©ì 

ì „ìê²°ì¬ ë¬¸ì„œì— ì‘ì„±ëœ **ê²°ì¬ ëŒ“ê¸€**ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.

| ì¶”ì¶œ í•­ëª© | ì„¤ëª… |
|-----------|------|
| sourceId | ëŒ“ê¸€ ê³ ìœ  ID (ìˆœë²ˆ_ë¬¸ì„œID_01 í˜•ì‹) |
| sourceDocumentId | ì›ë³¸ ë¬¸ì„œ ID |
| writer | ëŒ“ê¸€ ì‘ì„±ì |
| createdAt | ì‘ì„± ì¼ì‹œ (Unix timestamp) |
| message | ëŒ“ê¸€ ë‚´ìš© |

### C.2 ì½”ë“œ ìˆ˜ì • (âš ï¸ ë°˜ë“œì‹œ ìˆ˜ì •)

íŒŒì¼: `AnyFiveCommentCrawler.java`

```java
// ========== í¬ë¡¬ ë“œë¼ì´ë²„ ê²½ë¡œ ==========
private static final String WEB_DRIVER_PATH = 
    "C:/Users/LEEJUHWAN/Downloads/chromedriver-win64/chromedriver-win64/chromedriver.exe";

// ========== DB ì—°ê²° ì •ë³´ ==========
private static final String DB_URL = "jdbc:mariadb://localhost:3306/any_approval";
private static final String DB_USER = "root";
private static final String DB_PASSWORD = "1234";

// ========== íŒŒì¼ ì €ì¥ ê²½ë¡œ ==========
private static final String PROGRESS_DIR = "C:/Users/LEEJUHWAN/Downloads/comment_crawl";
// â†‘ ì§„í–‰ ìƒí™© ë° ì—ëŸ¬ ë¡œê·¸ê°€ ì €ì¥ë  í´ë”

// ========== í¬ë¡¤ë§ ëŒ€ìƒ ë¬¸ì„œ ID ëª©ë¡ ==========
private static final String[] TARGET_DOCUMENT_IDS = {
    "2006627","2006626","2006625"
    // â†‘ í¬ë¡¤ë§í•  ë¬¸ì„œ IDë¥¼ ì…ë ¥
};
```

### C.3 ì‹¤í–‰ ë°©ë²•

1. `TARGET_DOCUMENT_IDS` ë°°ì—´ì— í¬ë¡¤ë§í•  ë¬¸ì„œ ID ì…ë ¥
2. IntelliJì—ì„œ `AnyFiveCommentCrawler.java` ì‹¤í–‰

### C.4 ì¬ì‹œì‘ ì§€ì›

í¬ë¡¤ë§ ì¤‘ë‹¨ ì‹œ ì¬ì‹œì‘ì„ ì§€ì›í•©ë‹ˆë‹¤:

| íŒŒì¼ | ìš©ë„ |
|------|------|
| `processed_ids.txt` | ì²˜ë¦¬ ì™„ë£Œëœ ë¬¸ì„œ ID ëª©ë¡ |
| `error_log.txt` | ì˜¤ë¥˜ ë°œìƒ ë¬¸ì„œ ë° ì—ëŸ¬ ë©”ì‹œì§€ |

- ì¬ì‹¤í–‰ ì‹œ `processed_ids.txt`ì— ìˆëŠ” ë¬¸ì„œëŠ” ìë™ ìŠ¤í‚µ
- ì™„ì „íˆ ì²˜ìŒë¶€í„° ì‹œì‘í•˜ë ¤ë©´ `processed_ids.txt` íŒŒì¼ ì‚­ì œ

### C.5 ê²°ê³¼ë¬¼

**í´ë” êµ¬ì¡°:**
```
C:/Users/LEEJUHWAN/Downloads/comment_crawl/
â”œâ”€â”€ processed_ids.txt     # ì²˜ë¦¬ ì™„ë£Œ ëª©ë¡
â””â”€â”€ error_log.txt         # ì—ëŸ¬ ë¡œê·¸
```

**ì¶”ì¶œë˜ëŠ” ëŒ“ê¸€ ì •ë³´ ì˜ˆì‹œ:**
```
sourceId: 01_27444_01
sourceDocumentId: 27444
writer: í™ê¸¸ë™
createdAt: 1705290600000
message: ê²€í†  ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ìŠ¹ì¸í•©ë‹ˆë‹¤.
```

---

## D. ëˆ„ë½ ì²¨ë¶€íŒŒì¼ ë³´ì™„ í¬ë¡¤ë§ (AnyFivePlusCrawler_attaches)

### D.1 ëª©ì 

ê¸°ì¡´ í¬ë¡¤ë§ì—ì„œ **ëˆ„ë½ë˜ê±°ë‚˜ ì‹¤íŒ¨í•œ ì²¨ë¶€íŒŒì¼**ì„ ë³´ì™„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.

### D.2 íŠ¹ì§•

| íŠ¹ì§• | ì„¤ëª… |
|------|------|
| **All or Nothing** | ëª¨ë“  ì²¨ë¶€íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì„±ê³µ ì‹œì—ë§Œ DB ì—…ë°ì´íŠ¸ |
| **CSV ì…ë ¥ ì§€ì›** | ëˆ„ë½ ëª©ë¡ì„ CSVë¡œ ì…ë ¥ ê°€ëŠ¥ |
| **ë‹¤ì¤‘ ë¡œê·¸ ê´€ë¦¬** | ì™„ë£Œ/ì‹¤íŒ¨/ì´ë¦„ë¶ˆì¼ì¹˜/ê°œìˆ˜ê²½ê³  ë³„ë„ ë¡œê·¸ |
| **ì¬ì‹œì‘ ì§€ì›** | ì™„ë£Œëœ í•­ëª© ìë™ ìŠ¤í‚µ |

### D.3 ì½”ë“œ ìˆ˜ì • (âš ï¸ ë°˜ë“œì‹œ ìˆ˜ì •)

íŒŒì¼: `AnyFivePlusCrawler_attaches.java`

```java
// ========== í¬ë¡¬ ë“œë¼ì´ë²„ ê²½ë¡œ ==========
private static final String WEB_DRIVER_PATH = 
    "C:/Users/LEEJUHWAN/Downloads/chromedriver-win64/chromedriver-win64/chromedriver.exe";

// ========== DB ì—°ê²° ì •ë³´ ==========
private static final String DB_URL = "jdbc:mariadb://localhost:3306/any_approval";
private static final String DB_USER = "root";
private static final String DB_PASSWORD = "1234";

// ========== ì†ŒìŠ¤ ID ë¡œë”© ë°©ì‹ ==========
// true: CSV íŒŒì¼ì—ì„œ ì½ê¸°, false: MANUAL_SOURCE_IDS ë¦¬ìŠ¤íŠ¸ ì‚¬ìš©
private static final boolean USE_CSV = true;
private static final String CSV_PATH = "C:/Users/LEEJUHWAN/empty_path_documents.csv";

// ìˆ˜ë™ ì§€ì • ì‹œ ì‚¬ìš©í•  source_id ë¦¬ìŠ¤íŠ¸ (USE_CSV = falseì¼ ë•Œ ì‚¬ìš©)
private static final List<String> MANUAL_SOURCE_IDS = Arrays.asList(
    "2002144",
    "2002200",
    "2002203"
);

// ========== íŒŒì¼ ì €ì¥ ê²½ë¡œ ==========
// ì‹¤ì œ íŒŒì¼ ì €ì¥ ê¸°ë³¸ ê²½ë¡œ
private static final String DOWNLOAD_BASE_PATH = 
    "C:/Users/LEEJUHWAN/Downloads/approval_plus_attachments";

// DBì— ì €ì¥ë  ê²½ë¡œ í”„ë¦¬í”½ìŠ¤
private static final String DB_PATH_PREFIX = 
    "/PMS_SITE-U7OI43JLDSMO/approval/approval_plus_attachments";
```

### D.4 ì…ë ¥ ë°©ì‹

**ë°©ì‹ 1: CSV íŒŒì¼ ì‚¬ìš© (`USE_CSV = true`)**

CSV íŒŒì¼ í˜•ì‹:
```csv
source_id,doc_num,title,created_at,attaches
2002144,ë¬¸ì„œë²ˆí˜¸-001,ì œëª©1,1705290600000,"[{""name"":""íŒŒì¼1.xlsx"",""path"":""/old/path""}]"
2002200,ë¬¸ì„œë²ˆí˜¸-002,ì œëª©2,1705290700000,"[]"
```

**ë°©ì‹ 2: ìˆ˜ë™ ë¦¬ìŠ¤íŠ¸ ì‚¬ìš© (`USE_CSV = false`)**

```java
private static final List<String> MANUAL_SOURCE_IDS = Arrays.asList(
    "2002144",
    "2002200",
    "2002203"
);
```

### D.5 ì‹¤í–‰ ë°©ë²•

1. `USE_CSV` ì„¤ì •ì— ë”°ë¼ CSV ê²½ë¡œ ë˜ëŠ” ìˆ˜ë™ ë¦¬ìŠ¤íŠ¸ ì„¤ì •
2. íŒŒì¼ ì €ì¥ ê²½ë¡œ ë° DB ê²½ë¡œ í”„ë¦¬í”½ìŠ¤ ì„¤ì •
3. IntelliJì—ì„œ `AnyFivePlusCrawler_attaches.java` ì‹¤í–‰

### D.6 ë¡œê·¸ íŒŒì¼

| ë¡œê·¸ íŒŒì¼ | ë‚´ìš© |
|-----------|------|
| `crawler_completed.txt` | ì²˜ë¦¬ ì™„ë£Œëœ source_id ëª©ë¡ |
| `crawler_failed.txt` | ì‹¤íŒ¨í•œ source_id ë° ì‚¬ìœ  |
| `crawler_name_mismatch.txt` | CSVì™€ ì‹¤ì œ íŒŒì¼ëª…ì´ ë‹¤ë¥¸ ê²½ìš° |
| `crawler_count_warning.txt` | CSVì™€ ì‹¤ì œ ì²¨ë¶€íŒŒì¼ ê°œìˆ˜ê°€ ë‹¤ë¥¸ ê²½ìš° |

### D.7 ì‹¤í–‰ ê³¼ì •

```
========================================
1ë‹¨ê³„: source_id ëª©ë¡ ë¡œë“œ
========================================
  > CSV íŒŒì¼ì—ì„œ ë¡œë“œ: C:/Users/.../empty_path_documents.csv
  > ì´ ë¡œë“œëœ source_id: 150ê±´

========================================
2ë‹¨ê³„: ì™„ë£Œëœ í•­ëª© í™•ì¸ (ì¬ì‹œì‘ ì§€ì›)
========================================
  > ì´ë¯¸ ì™„ë£Œëœ source_id: 50ê±´
  > ì²˜ë¦¬ ëŒ€ìƒ source_id: 100ê±´

========================================
5ë‹¨ê³„: ì²¨ë¶€íŒŒì¼ í¬ë¡¤ë§ ì‹œì‘
========================================

------------------------------------------
[1/100] source_id: 2002144 ì²˜ë¦¬ ì¤‘...
------------------------------------------
  > í¬ë¡¤ë§ëœ ì²¨ë¶€íŒŒì¼ ìˆ˜: 3
    > ë‹¤ìš´ë¡œë“œ ì„±ê³µ: ê³„ì•½ì„œ.pdf
    > ë‹¤ìš´ë¡œë“œ ì„±ê³µ: ê²¬ì ì„œ.xlsx
    > ë‹¤ìš´ë¡œë“œ ì„±ê³µ: ì‚¬ì§„.jpg
  > ë‹¤ìš´ë¡œë“œ ì™„ë£Œ: 3/3
  > DB ì—…ë°ì´íŠ¸ ì™„ë£Œ

========================================
6ë‹¨ê³„: í¬ë¡¤ë§ ì™„ë£Œ
========================================
  > ì´ ì²˜ë¦¬ ëŒ€ìƒ: 100
  > ì„±ê³µ: 98
  > ì‹¤íŒ¨: 2
  > ë‹¤ìš´ë¡œë“œëœ íŒŒì¼ ìˆ˜: 287
```

### D.8 ê²°ê³¼ë¬¼

**í´ë” êµ¬ì¡°:**
```
C:/Users/LEEJUHWAN/Downloads/approval_plus_attachments/
â”œâ”€â”€ apr2002144/
â”‚   â”œâ”€â”€ ê³„ì•½ì„œ.pdf
â”‚   â”œâ”€â”€ ê²¬ì ì„œ.xlsx
â”‚   â””â”€â”€ ì‚¬ì§„.jpg
â”œâ”€â”€ apr2002200/
â”‚   â””â”€â”€ ë³´ê³ ì„œ.docx
â””â”€â”€ ...
```

**DB attaches ì»¬ëŸ¼ ì—…ë°ì´íŠ¸:**
```json
[
  {"name":"ê³„ì•½ì„œ.pdf","path":"/PMS_SITE-U7OI43JLDSMO/approval/approval_plus_attachments/apr2002144/ê³„ì•½ì„œ.pdf"},
  {"name":"ê²¬ì ì„œ.xlsx","path":"/PMS_SITE-U7OI43JLDSMO/approval/approval_plus_attachments/apr2002144/ê²¬ì ì„œ.xlsx"},
  {"name":"ì‚¬ì§„.jpg","path":"/PMS_SITE-U7OI43JLDSMO/approval/approval_plus_attachments/apr2002144/ì‚¬ì§„.jpg"}
]
```

---
---

## E. ì°¸ì¡°ë¬¸ì„œ í¬ë¡¤ë§ (AnyFiveReferenceDocCrawler)

### E.1 ëª©ì 

ì „ìê²°ì¬ ë¬¸ì„œì— ì—°ê²°ëœ **ì°¸ì¡°ë¬¸ì„œ ID**ë¥¼ ì¶”ì¶œí•˜ì—¬ ë³„ë„ í…Œì´ë¸”ì— ì €ì¥í•©ë‹ˆë‹¤.

| ì¶”ì¶œ í•­ëª© | ì„¤ëª… |
|-----------|------|
| source_document_id | ì›ë³¸ ë¬¸ì„œ ID |
| reference_document_id | ì°¸ì¡°ë¬¸ì„œ ID |

### E.2 ì‚¬ì „ ì¤€ë¹„

**í…Œì´ë¸” ìƒì„±:**
```sql
CREATE TABLE reference_documents (
    id INT(11) AUTO_INCREMENT PRIMARY KEY,
    source_document_id VARCHAR(255) NOT NULL COMMENT 'ì›ë³¸ ë¬¸ì„œ ID',
    reference_document_id VARCHAR(255) NOT NULL COMMENT 'ì°¸ì¡°ë¬¸ì„œ ID',
    
    INDEX idx_source_document_id (source_document_id),
    INDEX idx_reference_document_id (reference_document_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### E.3 ì½”ë“œ ìˆ˜ì • (âš ï¸ ë°˜ë“œì‹œ ìˆ˜ì •)

íŒŒì¼: `AnyFiveReferenceDocCrawler.java`
```java
// ========== í¬ë¡¬ ë“œë¼ì´ë²„ ê²½ë¡œ ==========
private static final String WEB_DRIVER_PATH = 
    "C:/Users/LEEJUHWAN/Downloads/chromedriver-win64/chromedriver-win64/chromedriver.exe";
    // â†‘ ë³¸ì¸ì˜ ChromeDriver ê²½ë¡œë¡œ ìˆ˜ì •

// ========== DB ì—°ê²° ì •ë³´ ==========
private static final String DB_URL = "jdbc:mariadb://localhost:3306/any_approval";
private static final String DB_USER = "root";
private static final String DB_PASSWORD = "1234";  // â† DB ë¹„ë°€ë²ˆí˜¸ ìˆ˜ì •

// ========== í¬ë¡¤ë§ ëŒ€ìƒ ë¬¸ì„œ ID ëª©ë¡ - ì—¬ê¸°ì— ì§ì ‘ ì…ë ¥ ==========
List<String> documentIds = new ArrayList<>();
documentIds.addAll(Arrays.asList(
    "15377405", "15391835", "15484981"
    // â†‘ ì°¸ì¡°ë¬¸ì„œë¥¼ ì¶”ì¶œí•  ë¬¸ì„œ IDë¥¼ ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥
));
```

### E.4 ì‹¤í–‰ ë°©ë²•

1. `documentIds` ë¦¬ìŠ¤íŠ¸ì— í¬ë¡¤ë§í•  ë¬¸ì„œ ID ì…ë ¥
2. IntelliJì—ì„œ `AnyFiveReferenceDocCrawler.java` ì‹¤í–‰

### E.5 ì‹¤í–‰ ê³¼ì •
```
ì´ 250ê°œì˜ ë¬¸ì„œ ID ë¡œë“œ ì™„ë£Œ.
2ë‹¨ê³„: ë¡œê·¸ì¸ ë° ë©”ë‰´ í´ë¦­ì„ í†µí•œ ê²Œì‹œíŒ ì§„ì… ì‹œë„.
  > ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì™„ë£Œ.
  > 'ì „ìê²°ì¬' ì•„ì´ì½˜ í´ë¦­ ì™„ë£Œ.
  > 'ê²°ì¬ë¬¸ì„œê´€ë¦¬' ë©”ë‰´ í´ë¦­ ì™„ë£Œ.

3ë‹¨ê³„: DB ì—°ê²° ì„±ê³µ (ì°¸ì¡°ë¬¸ì„œ ì‚½ì… ì¤€ë¹„).

  > [1/250] ë¬¸ì„œ ID: 15377405 ì²˜ë¦¬ ì¤‘...
  > JS í•¨ìˆ˜ í˜¸ì¶œ ì„±ê³µ: managementDocList.clickGridRow(15377405);
    - ì°¸ì¡°ë¬¸ì„œ ID ë°œê²¬: 15370001
    - ì°¸ì¡°ë¬¸ì„œ ID ë°œê²¬: 15370025
  > ë°°ì¹˜ ì‹¤í–‰ ë° ì»¤ë°‹ ì™„ë£Œ. (2 ì°¸ì¡°ë¬¸ì„œ ì €ì¥)
  > ëª©ë¡ í˜ì´ì§€ë¡œ ë³µê·€.

4ë‹¨ê³„: ëª¨ë“  DB ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.
  > ì´ 250ê°œ ë¬¸ì„œ ì²˜ë¦¬ ì™„ë£Œ
  > ì°¸ì¡°ë¬¸ì„œê°€ ìˆëŠ” ë¬¸ì„œ: 180ê°œ
  > ì°¸ì¡°ë¬¸ì„œê°€ ì—†ëŠ” ë¬¸ì„œ: 70ê°œ
  > ì´ 320ê°œ ì°¸ì¡°ë¬¸ì„œ ê´€ê³„ DBì— ì €ì¥ ì™„ë£Œ.
```

### E.6 ê²°ê³¼ë¬¼

**DB í…Œì´ë¸” ì˜ˆì‹œ:**
| source_document_id | reference_document_id |
|--------------------|----------------------|
| 15377405 | 15370001 |
| 15377405 | 15370025 |
| 17030834 | 17025001 |
---
## F. ë¬¸ì„œ ê¸°ë³¸ì •ë³´ í¬ë¡¤ë§ - ë³„ë„ í…Œì´ë¸” ë²„ì „ (AnyFiveNewCrawler9670)
ê¸°ì¡´ í¬ë¡¤ëŸ¬ì™€ ìœ ì‚¬í•˜ë‚˜, ìƒì„¸ ì ‘ì† ì´í›„ ë¬¸ì„œ ID ê²€ì¦ë¡œì§ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.

---
---

## 14. â­ì „ìê²°ì¬ ìµœì‹  ë²„ì „â­

> ì´ ì„¹ì…˜ì€ ì „ìê²°ì¬ ìµœì‹  ë²„ì „ ê°€ì´ë“œì…ë‹ˆë‹¤. (2026-01-14)
> 
> - **ìë°” ì½”ë“œ ì„¤ëª…**: í˜„ì¬ í˜ì´ì§€ (any_crawling)
> - **íŒŒì´ì¬ ì½”ë“œ ì„¤ëª…**: [any_approval_plus](https://github.com/000Lee/any_approval_plus.git) - `ì „ìê²°ì¬ ì¶”ê°€ ìˆ˜ì •/ì „ìê²°ì¬ ì¦ì¦ë¶„ì¹˜ (2025ì´ì „)/` ê²½ë¡œ

---

### 14.1 ì„¤ì • ë³€ê²½ ì‚¬í•­

#### URL ë³€ê²½
```java
// ê¸°ì¡´
private static final String BASE_URL = "http://office.anyfive.com";

// ë³€ê²½
private static final String BASE_URL = "https://auth.onnet21.com/?re=anyfive.onnet21.com/sso/login";
```

#### DB í…Œì´ë¸”ëª…
- í…Œì´ë¸”ëª…ì€ ìš©ë„ì— ë§ê²Œ ììœ ë¡­ê²Œ ì§€ì • (ì˜ˆ: `new_documents_2024`, `new_documents_2023` ë“±)
- ëª¨ë“  Java í¬ë¡¤ëŸ¬ì™€ Python ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë™ì¼í•œ í…Œì´ë¸”ëª… ì‚¬ìš© í•„ìˆ˜

---

### 14.2 ì „ì²´ ì‹¤í–‰ ìˆœì„œ (16ë‹¨ê³„)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì „ìê²°ì¬ ì¦ë¶„ í¬ë¡¤ë§ ì›Œí¬í”Œë¡œìš° (2025ë…„ ì´ì „)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[1ë‹¨ê³„] ğŸ ë¬¸ì„œ ID ì¶”ì¶œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> doc_ids.txt
         â””â”€â”€ íŒŒì´ì¬ì½”ë“œ_ì¦ì¦ë¶„ì¹˜.ipynb
                                                      â”‚
[2ë‹¨ê³„] ğŸ ëˆ„ë½ ë¬¸ì„œ ì°¾ê¸° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> ëˆ„ë½ ID ëª©ë¡
         â””â”€â”€ find_missing_docs_multi_table.ipynb
                                                      â”‚
                                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Java í¬ë¡¤ë§ ë‹¨ê³„                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [3ë‹¨ê³„] â˜• AnyFiveNewCrawler9670.java â”€â”€â”€â”€â”€â”€â”€â”€> ë¬¸ì„œ ê¸°ë³¸ì •ë³´ í¬ë¡¤ë§              â”‚
â”‚         â””â”€â”€ 2ë²ˆ ê²°ê³¼ë¥¼ TARGET_DOCUMENT_IDSì— ì…ë ¥                                â”‚
â”‚         â””â”€â”€ ì°¸ì¡°ì ê´„í˜¸ ì œê±° SQL ì‹¤í–‰ (í›„ì²˜ë¦¬)                                    â”‚
â”‚                                                                                 â”‚
â”‚ [4ë‹¨ê³„] â˜• AnyFiveNewCrawler_attaches.java â”€â”€â”€> ì²¨ë¶€íŒŒì¼ í¬ë¡¤ë§                   â”‚
â”‚         â””â”€â”€ ë‹¤ìš´ë¡œë“œ ê²€ì¦ í•„ìˆ˜                                                   â”‚
â”‚                                                                                 â”‚
â”‚ [5ë‹¨ê³„] â˜• AnyFiveNewCrawler_img.java â”€â”€â”€â”€â”€â”€â”€â”€> ë³¸ë¬¸ ì´ë¯¸ì§€ í¬ë¡¤ë§                â”‚
â”‚         â””â”€â”€ ë‹¤ìš´ë¡œë“œ ê²€ì¦ í•„ìˆ˜                                                   â”‚
â”‚                                                                                 â”‚
â”‚ [6ë‹¨ê³„] â˜• AnyFiveNewCrawler_docBody.java â”€â”€â”€â”€> ë¬¸ì„œ ë³¸ë¬¸ HTML í¬ë¡¤ë§             â”‚
â”‚                                                                                 â”‚
â”‚ [7ë‹¨ê³„] â˜• AnyFiveCommentCrawler.java â”€â”€â”€â”€â”€â”€â”€â”€> ê²°ì¬ ëŒ“ê¸€ í¬ë¡¤ë§                  â”‚
â”‚         â””â”€â”€ 2ë²ˆ ê²°ê³¼ë¥¼ TARGET_DOCUMENT_IDSì— ì…ë ¥                                â”‚
â”‚                                                                                 â”‚
â”‚ [8ë‹¨ê³„] â˜• AnyFiveActiviesCrawler_plus.java â”€â”€> ê²°ì¬ì´ë ¥ í¬ë¡¤ë§                   â”‚
â”‚         â””â”€â”€ 2ë²ˆ ê²°ê³¼ë¥¼ TARGET_DOCUMENT_IDSì— ì…ë ¥                                â”‚
â”‚         â””â”€â”€ âš ï¸ ë°˜ë ¤ ì²˜ë¦¬ ì£¼ì˜ (ìˆ˜ë™ ì‘ì—… í•„ìš”)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                      â”‚
                                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Python í›„ì²˜ë¦¬ ë‹¨ê³„                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [9ë‹¨ê³„]  ğŸ add_year_column.ipynb â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> ì—°ë„ ì»¬ëŸ¼ ì¶”ê°€                    â”‚
â”‚ [10ë‹¨ê³„] ğŸ DBì—_ì¡°ì§ë„_ë‹¤ì‹œ_ë°˜ì˜í•˜ê¸°_ìˆ˜ì •.ipynb > ì¡°ì§ë„ ë°˜ì˜                    â”‚
â”‚ [11ë‹¨ê³„] ğŸ update_db_referrers.ipynb â”€â”€â”€â”€â”€â”€â”€> ì°¸ì¡°ì ì—…ë°ì´íŠ¸                   â”‚
â”‚ [12ë‹¨ê³„] ğŸ DB_ì¡°ì§ë„_ë°˜ì˜_ê²€ì¦_v2.ipynb â”€â”€â”€â”€> ì¡°ì§ë„ ê²€ì¦                        â”‚
â”‚ [13ë‹¨ê³„] ğŸ fix_activities_order_db3.ipynb â”€â”€> ê²°ì¬ìˆœì„œ ì •ë ¬ (0ê±´ì´ë©´ ìŠ¤í‚µ)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                      â”‚
                                                      â–¼
[14ë‹¨ê³„] ğŸ—„ï¸ ìŠ¤íƒ€ì¼íƒœê·¸ ê²€ì¦ SQL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> ë¬¸ì„œë‹¹ 1ê°œì¸ì§€ í™•ì¸

[15ë‹¨ê³„] ğŸ export_documents_v3.ipynb â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> ìµœì¢… ë‚´ë³´ë‚´ê¸° 

[16ë‹¨ê³„] ğŸ comments_to_cmds ì¦ë¶„ì¹˜.ipynb â”€â”€â”€â”€â”€â”€â”€> ìµœì¢… ë‚´ë³´ë‚´ê¸° (ëŒ“ê¸€)
```

---

### 14.3 ë‹¨ê³„ë³„ ìƒì„¸ ì„¤ëª…

#### ğŸ“Œ [1~2ë‹¨ê³„] ë¬¸ì„œ ID ì¶”ì¶œ ë° ëˆ„ë½ ë¬¸ì„œ ì°¾ê¸° (Python)

> íŒŒì´ì¬ ì½”ë“œ ìƒì„¸ ì„¤ëª…ì€ [any_approval_plus](https://github.com/000Lee/any_approval_plus.git) ì°¸ì¡°
> ì¬ì‹¤í–‰ì´ ì•„ë‹Œ ìµœì´ˆìˆ˜ì§‘ì´ë¼ë©´ 2ë‹¨ê³„ëŠ” ê±´ë„ˆë›°ì„¸ìš”

| ë‹¨ê³„ | íŒŒì¼ëª… | ì„¤ëª… |
|:---:|--------|------|
| 1 | `íŒŒì´ì¬ì½”ë“œ_ì¦ì¦ë¶„ì¹˜.ipynb` | í•´ë‹¹ ê¸°ê°„ ë‚´ ë¬¸ì„œ IDë¥¼ txt íŒŒì¼ë¡œ ì¶”ì¶œ |
| 2 | `find_missing_docs_multi_table.ipynb` | ê¸°ì¡´ í…Œì´ë¸”ê³¼ ë¹„êµí•˜ì—¬ ëˆ„ë½ëœ ë¬¸ì„œ ID ì¶”ì¶œ |

---

#### ğŸ“Œ [3ë‹¨ê³„] ë¬¸ì„œ ê¸°ë³¸ì •ë³´ í¬ë¡¤ë§ - AnyFiveNewCrawler9670.java

**ê¸°ëŠ¥:**
- ë¬¸ì„œ ìƒì„¸ í˜ì´ì§€ ì ‘ê·¼ í›„ ê¸°ë³¸ ì •ë³´ í¬ë¡¤ë§
- **ë¬¸ì„œ ID ê²€ì¦ ë¡œì§ í¬í•¨**: í˜¸ì¶œí•œ ë¬¸ì„œ IDì™€ ì‹¤ì œ ë¡œë“œëœ ë¬¸ì„œ ID ì¼ì¹˜ ì—¬ë¶€ í™•ì¸
- DBì— ë¬¸ì„œ ë©”íƒ€ë°ì´í„° ì €ì¥

**ì‚¬ìš© ë°©ë²•:**
```sql
CREATE TABLE í…Œì´ë¸”ì´ë¦„ (
    id INT(11) AUTO_INCREMENT PRIMARY KEY,
    source_id VARCHAR(50) NOT NULL COMMENT 'ì›ë³¸ ì‹œìŠ¤í…œ ë¬¸ì„œ ID',
    doc_num VARCHAR(100) COMMENT 'ë¬¸ì„œë²ˆí˜¸',
    doc_type VARCHAR(50) DEFAULT 'DRAFT' COMMENT 'ë¬¸ì„œìœ í˜•',
    title VARCHAR(500) COMMENT 'ì œëª©',
    doc_status VARCHAR(50) DEFAULT 'COMPLETE' COMMENT 'ë¬¸ì„œìƒíƒœ',
    created_at BIGINT(20) COMMENT 'ê¸°ì•ˆì¼ (Unix timestamp)',
    drafter_name VARCHAR(100) COMMENT 'ê¸°ì•ˆì ì´ë¦„',
    drafter_position VARCHAR(100) COMMENT 'ê¸°ì•ˆì ì§ìœ„',
    drafter_dept VARCHAR(100) COMMENT 'ê¸°ì•ˆì ë¶€ì„œ',
    drafter_email VARCHAR(100) COMMENT 'ê¸°ì•ˆì ì´ë©”ì¼(ID)',
    drafter_dept_code VARCHAR(50) COMMENT 'ê¸°ì•ˆì ë¶€ì„œì½”ë“œ',
    form_name VARCHAR(200) COMMENT 'ì–‘ì‹ëª…',
    is_public TINYINT(1) DEFAULT 0 COMMENT 'ë¬¸ì„œê³µê°œ ì—¬ë¶€ (0:ë¹„ê³µê°œ, 1:ê³µê°œ)',
    end_year INT(11) COMMENT 'ëŒ€ìƒì—°ë„',
    `references` TEXT COMMENT 'ì°¸ì¡°ë¬¸ì„œ JSON',
    attaches TEXT COMMENT 'ì²¨ë¶€íŒŒì¼ JSON',
    referrers TEXT COMMENT 'ì°¸ì¡°ì JSON',
    activities TEXT COMMENT 'ê²°ì¬í™œë™ JSON',
    doc_body MEDIUMTEXT COMMENT 'ë¬¸ì„œë³¸ë¬¸ HTML',
    created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    year INT(11) COMMENT 'ì—°ë„',
    
    UNIQUE KEY uk_source_id (source_id),
    INDEX idx_end_year (end_year),
    INDEX idx_created_at (created_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```
```java
// 1. 2ë‹¨ê³„ ê²°ê³¼(ëˆ„ë½ ë¬¸ì„œ ID)ë¥¼ TARGET_DOCUMENT_IDSì— ì…ë ¥
private static final String[] TARGET_DOCUMENT_IDS = {
    "27444","28456","29777","30123"
    // â†‘ find_missing_docs_multi_table.ipynb ê²°ê³¼ë¥¼ ë¶™ì—¬ë„£ê¸°
};

// 2. í…Œì´ë¸”ëª… ìˆ˜ì •
private static final String TABLE_NAME = "new_documents_2024";  // â† ì›í•˜ëŠ” í…Œì´ë¸”ëª…

// 3. ë¡œê·¸ì¸ URL ìˆ˜ì •
private static final String BASE_URL = "https://auth.onnet21.com/?re=anyfive.onnet21.com/sso/login";
```

**í›„ì²˜ë¦¬ - ì°¸ì¡°ì ê´„í˜¸ ì œê±°:**

í¬ë¡¤ë§ ì™„ë£Œ í›„ ì°¸ì¡°ì ì»¬ëŸ¼ì— `ì´ë¦„(ì•„ì´ë””)` í˜•ì‹ì´ ìˆëŠ” ê²½ìš° ì•„ë˜ SQL ì‹¤í–‰:
```sql
-- ì°¸ì¡°ì ì»¬ëŸ¼ì—ì„œ ê´„í˜¸ì™€ ë‚´ìš© ì œê±° (ì´ë¦„ë§Œ ë‚¨ê¹€)
UPDATE í…Œì´ë¸”ì´ë¦„
SET referrers = REGEXP_REPLACE(referrers, '\\([^)]+\\)', '')
WHERE referrers LIKE '%(%';
```

---

#### ğŸ“Œ [4ë‹¨ê³„] ì²¨ë¶€íŒŒì¼ í¬ë¡¤ë§ - AnyFiveNewCrawler_attaches.java

**ê¸°ëŠ¥:**
- DBì— ì €ì¥ëœ ë¬¸ì„œë“¤ì˜ ì²¨ë¶€íŒŒì¼ ë‹¤ìš´ë¡œë“œ
- attaches ì»¬ëŸ¼ ì—…ë°ì´íŠ¸

**ê²€ì¦ ë°©ë²•:**

í¬ë¡¤ë§ ì™„ë£Œ í›„ ë°˜ë“œì‹œ ê²€ì¦:
```sql
-- DBì— ì²¨ë¶€íŒŒì¼ì´ ìˆëŠ” ë¬¸ì„œ ê°œìˆ˜ ë° ì´ ì²¨ë¶€íŒŒì¼ ê°œìˆ˜ í™•ì¸
SELECT 
    COUNT(DISTINCT source_id) as doc_count,
    SUM(JSON_LENGTH(attaches)) as total_attaches
FROM í…Œì´ë¸”ì´ë¦„
WHERE attaches IS NOT NULL AND attaches != '[]';
```

ì‹¤ì œ ë‹¤ìš´ë¡œë“œ í´ë”ì—ì„œ í™•ì¸:
- í´ë” ê°œìˆ˜ = `doc_count`ì™€ ì¼ì¹˜í•´ì•¼ í•¨
- ì´ íŒŒì¼ ê°œìˆ˜ = `total_attaches`ì™€ ì¼ì¹˜í•´ì•¼ í•¨

---

#### ğŸ“Œ [5ë‹¨ê³„] ë³¸ë¬¸ ì´ë¯¸ì§€ í¬ë¡¤ë§ - AnyFiveNewCrawler_img.java

**ê¸°ëŠ¥:**
- ë¬¸ì„œ ë³¸ë¬¸ì— í¬í•¨ëœ ì´ë¯¸ì§€(`<img>` íƒœê·¸) ë‹¤ìš´ë¡œë“œ
- `processed_ids.txt`ë¡œ ì¬ì‹œì‘ ì§€ì›

**ê²€ì¦ ë°©ë²•:**
```sql
-- [6ë‹¨ê³„] ë¬¸ì„œ ë³¸ë¬¸ í¬ë¡¤ë§ - AnyFiveNewCrawler_docBody.java ì‹¤í–‰ í›„ ê²€ì¦í•˜ê¸°
-- DBì— ì´ë¯¸ì§€ê°€ ìˆëŠ” ë¬¸ì„œ ê°œìˆ˜ ë° ì´ ì´ë¯¸ì§€ íƒœê·¸ ê°œìˆ˜ í™•ì¸
SELECT 
    COUNT(*) as img_doc_count,
    SUM(
        (LENGTH(doc_body) - LENGTH(REPLACE(LOWER(doc_body), '<img', ''))) / LENGTH('<img')
    ) as total_img_count
FROM í…Œì´ë¸”ì´ë¦„
WHERE doc_body LIKE '%<img%';
```

ì‹¤ì œ ë‹¤ìš´ë¡œë“œ í´ë”ì—ì„œ:
- í´ë” ê°œìˆ˜ = `img_doc_count`ì™€ ì¼ì¹˜í•´ì•¼ í•¨
- ì´ íŒŒì¼ ê°œìˆ˜ = `total_img_count`ì™€ ì¼ì¹˜í•´ì•¼ í•¨

---

#### ğŸ“Œ [6ë‹¨ê³„] ë¬¸ì„œ ë³¸ë¬¸ í¬ë¡¤ë§ - AnyFiveNewCrawler_docBody.java

**ê¸°ëŠ¥:**
- ì¸ì‡„ í˜ì´ì§€ HTML ì¶”ì¶œ
- ë¶ˆí•„ìš” ì„¹ì…˜ ì œê±° (ì²¨ë¶€íŒŒì¼ ì˜ì—­, ê²°ì¬ì˜ê²¬, ê²°ì¬ëŒ“ê¸€, ì¡°íšŒì)
- ì´ë¯¸ì§€ ê²½ë¡œ ë³€í™˜
- CSS ì¸ë¼ì¸ ì‚½ì… ë° HTML ì••ì¶•
- DB `doc_body` ì»¬ëŸ¼ì— ì €ì¥

---

#### ğŸ“Œ [7ë‹¨ê³„] ê²°ì¬ ëŒ“ê¸€ í¬ë¡¤ë§ - AnyFiveCommentCrawler.java

**ê¸°ëŠ¥:**
- ì „ìê²°ì¬ ë¬¸ì„œì˜ ê²°ì¬ ëŒ“ê¸€ ì¶”ì¶œ
- ì¬ì‹œì‘ ì§€ì› (`processed_ids.txt`)

**ì‚¬ìš© ë°©ë²•:**
```sql
CREATE TABLE í…Œì´ë¸”ì´ë¦„ (
    id INT(11) AUTO_INCREMENT PRIMARY KEY,
    source_id VARCHAR(50) COMMENT 'ëŒ“ê¸€ ê³ ìœ  ID',
    source_document_id VARCHAR(20) NOT NULL COMMENT 'ì›ë³¸ ë¬¸ì„œ ID',
    created_at BIGINT(20) COMMENT 'ì‘ì„±ì¼ì‹œ (Unix timestamp)',
    updated_at BIGINT(20) COMMENT 'ìˆ˜ì •ì¼ì‹œ (Unix timestamp)',
    writer VARCHAR(50) COMMENT 'ì‘ì„±ì',
    message TEXT COMMENT 'ëŒ“ê¸€ ë‚´ìš©',
    
    INDEX idx_source_document_id (source_document_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```
```java
// 2ë‹¨ê³„ ê²°ê³¼ë¥¼ TARGET_DOCUMENT_IDSì— ì…ë ¥
private static final String[] TARGET_DOCUMENT_IDS = {
    "27444","28456","29777"
    // â†‘ find_missing_docs_multi_table.ipynb ê²°ê³¼
};
```

---

#### ğŸ“Œ [8ë‹¨ê³„] ê²°ì¬í…Œì´ë¸” í¬ë¡¤ë§ - AnyFiveActiviesCrawler_plus.java

**ê¸°ëŠ¥:**
- ê²°ì¬ ë¼ì¸ ì •ë³´ (ìˆœì„œ, ìƒíƒœ, ê²°ì¬ì¼ì‹œ, ê²°ì¬ì) í¬ë¡¤ë§
- ë³„ë„ì˜ í…Œì´ë¸”ì— ì°¸ê³ ìš©ìœ¼ë¡œ ì €ì¥ 

**ì‚¬ìš© ë°©ë²•:**
```sql
CREATE TABLE í…Œì´ë¸”ì´ë¦„ (
    record_id INT(11) AUTO_INCREMENT PRIMARY KEY,
    document_id VARCHAR(255) NOT NULL COMMENT 'ë¬¸ì„œ ID',
    post_title VARCHAR(512) COMMENT 'ë¬¸ì„œ ì œëª©',
    sequence INT(11) COMMENT 'ê²°ì¬ ìˆœì„œ',
    status VARCHAR(50) COMMENT 'ê²°ì¬ ìƒíƒœ',
    approval_date VARCHAR(50) COMMENT 'ê²°ì¬ ì¼ì‹œ',
    department VARCHAR(100) COMMENT 'ê²°ì¬ì ë¶€ì„œ',
    approver VARCHAR(100) COMMENT 'ê²°ì¬ì',
    
    INDEX idx_document_id (document_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```
```java
// 2ë‹¨ê³„ ê²°ê³¼ë¥¼ TARGET_DOCUMENT_IDSì— ì…ë ¥
private static final String[] TARGET_DOCUMENT_IDS = {
    "27444","28456","29777"
};
```

**âš ï¸ ë°˜ë ¤ ì²˜ë¦¬ ì£¼ì˜ì‚¬í•­:**

`AnyFiveNewCrawler9670.java`ì—ëŠ” **ë°˜ë ¤ ìƒíƒœ ë§¤í•‘ì´ ì—†ìŠµë‹ˆë‹¤.**

ë°˜ë ¤ëœ ë¬¸ì„œì˜ ê²½ìš°:
- `activities` ì»¬ëŸ¼ì˜ `type`, `actionLogType`ì— í•œê¸€ **"ë°˜ë ¤"**ë¡œ ì €ì¥ë¨
- ê±´ìˆ˜ê°€ ì ìœ¼ë¯€ë¡œ **ìˆ˜ë™ ì²˜ë¦¬** ì‹¤í–‰í•¨
- !ì°¸ê³ ! ì´ˆê¸°ì—ëŠ” ë°˜ë ¤ë¥¼ RETURN íƒ€ì…ìœ¼ë¡œ ë³€í™˜í–ˆìœ¼ë‚˜, ì´í›„ APPROVAL íƒ€ì… + [ë°˜ë ¤] ì½”ë©˜íŠ¸ prefix ë°©ì‹ìœ¼ë¡œ ì •ì±…ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ê´€ë ¨ ë³€í™˜ ì½”ë“œëŠ” [any_approval_plus](https://github.com/000Lee/any_approval_plus.git)ì˜ DBì— ìˆ˜ì • ë°˜ì˜í•˜ê¸°/ í´ë”ì— ìˆìŠµë‹ˆë‹¤. (verify_action_type.ipynb->RETURN ë³€í™˜.ipynb)

**ë°˜ë ¤ ìˆ˜ë™ ì²˜ë¦¬ ë°©ë²•:**
```sql
-- (ê²°ì¬í…Œì´ë¸”ì—ì„œ) ë°˜ë ¤ê°€ ìˆëŠ”ì§€ í™•ì¸
SELECT *
FROM í…Œì´ë¸”ì´ë¦„
WHERE status = 'ë°˜ë ¤';

-- (ê²°ì¬í…Œì´ë¸”ì—ì„œ) ë°˜ë ¤ ê±´ìˆ˜ë§Œ í™•ì¸
SELECT COUNT(*) as reject_count
FROM í…Œì´ë¸”ì´ë¦„
WHERE status = 'ë°˜ë ¤';

-- (ê²°ì¬í…Œì´ë¸”ì—ì„œ) ë°˜ë ¤ê°€ ìˆëŠ” ë¬¸ì„œ ID ëª©ë¡ í™•ì¸
SELECT DISTINCT document_id, post_title
FROM í…Œì´ë¸”ì´ë¦„
WHERE status = 'ë°˜ë ¤';

-- 1. (AnyFiveNewCrawler9670.java ê²°ê³¼ í…Œì´ë¸”ì—ì„œ) ë°˜ë ¤ ë¬¸ì„œ í™•ì¸ 
SELECT source_id, activities
FROM í…Œì´ë¸”ì´ë¦„
WHERE activities LIKE '%"actionLogType": "ë°˜ë ¤"%'
   OR activities LIKE '%"type": "ë°˜ë ¤"%';

-- 2. (AnyFiveNewCrawler9670.java ê²°ê³¼ í…Œì´ë¸”ì—ì„œ) ìˆ˜ë™ìœ¼ë¡œ ìˆ˜ì •
-- type: "ë°˜ë ¤" â†’ "APPROVAL"
-- actionLogType: "ë°˜ë ¤" â†’ "APPROVAL"  
-- actionComment ë§¨ ì•ì— "[ë°˜ë ¤] " ì¶”ê°€
```

---

#### ğŸ“Œ [9~13ë‹¨ê³„] Python í›„ì²˜ë¦¬

> íŒŒì´ì¬ ì½”ë“œ ìƒì„¸ ì„¤ëª…ì€ [any_approval_plus](https://github.com/000Lee/any_approval_plus.git) ì°¸ì¡°

| ë‹¨ê³„ | íŒŒì¼ëª… | ì„¤ëª… | ë¹„ê³  |
|:---:|--------|------|------|
| 9 | `add_year_column.ipynb` | ì—°ë„ ì»¬ëŸ¼ ì¶”ê°€ | |
| 10 | `DBì—_ì¡°ì§ë„_ë‹¤ì‹œ_ë°˜ì˜í•˜ê¸°_ìˆ˜ì •.ipynb` | ì¡°ì§ë„(ì¸ì‚¬ì •ë³´) DB ë°˜ì˜ | |
| 11 | `update_db_referrers.ipynb` | ì°¸ì¡°ì ì •ë³´ ì—…ë°ì´íŠ¸ | |
| 12 | `DB_ì¡°ì§ë„_ë°˜ì˜_ê²€ì¦_v2.ipynb` | ì¡°ì§ë„ ë°˜ì˜ ê²€ì¦ | |
| 13 | `fix_activities_order_db3.ipynb` | ê²°ì¬ìˆœì„œ ì •ë ¬ | **0ê±´ì´ë©´ ìŠ¤í‚µ** |

---

#### ğŸ“Œ [14ë‹¨ê³„] ìŠ¤íƒ€ì¼íƒœê·¸ ê²€ì¦ (SQL)

ë¬¸ì„œ í•˜ë‚˜ë‹¹ `<style>` íƒœê·¸ê°€ 1ê°œì¸ì§€ í™•ì¸:
```sql
SELECT
    (LENGTH(doc_body) - LENGTH(REPLACE(LOWER(doc_body), '<style', ''))) / LENGTH('<style') AS style_tag_count,
    COUNT(*) AS doc_count
FROM í…Œì´ë¸”ì´ë¦„
WHERE doc_body IS NOT NULL
GROUP BY style_tag_count
ORDER BY style_tag_count DESC;
```

**ê¸°ëŒ€ ê²°ê³¼:**
| style_tag_count | doc_count |
|-----------------|-----------|
| 1 | (ì „ì²´ ë¬¸ì„œ ìˆ˜) |

- `style_tag_count`ê°€ 1ì´ ì•„ë‹Œ ë¬¸ì„œê°€ ìˆìœ¼ë©´ í™•ì¸ í•„ìš”

---

#### ğŸ“Œ [15~16ë‹¨ê³„] ìµœì¢… ë‚´ë³´ë‚´ê¸° (Python)

> íŒŒì´ì¬ ì½”ë“œ ìƒì„¸ ì„¤ëª…ì€ [any_approval_plus](https://github.com/000Lee/any_approval_plus.git) ì°¸ì¡°

| ë‹¨ê³„ | íŒŒì¼ëª… | ì„¤ëª… |
|:---:|--------|------|
| 15 | `export_documents_v3.ipynb` | cmds í˜•ì‹ìœ¼ë¡œ ë³€í™˜ |
| 16 | `comments_to_cmds ì¦ë¶„ì¹˜.ipynb` | cmds í˜•ì‹ìœ¼ë¡œ ë³€í™˜ (ëŒ“ê¸€) |

---

### 14.4 Java í¬ë¡¤ëŸ¬ ì„¤ì • ìš”ì•½

| í¬ë¡¤ëŸ¬ | TARGET_DOCUMENT_IDS | í…Œì´ë¸”ëª… | URL ë³€ê²½ |
|--------|:-------------------:|:--------:|:--------:|
| AnyFiveNewCrawler9670 | âœ… 2ë‹¨ê³„ ê²°ê³¼ | âœ… | âœ… |
| AnyFiveNewCrawler_attaches | âŒ (DB ê¸°ì¤€) | âœ… | âœ… |
| AnyFiveNewCrawler_img | âŒ (DB ê¸°ì¤€) | âœ… | âœ… |
| AnyFiveNewCrawler_docBody | âŒ (DB ê¸°ì¤€) | âœ… | âœ… |
| AnyFiveCommentCrawler | âœ… 2ë‹¨ê³„ ê²°ê³¼ | âœ… | âœ… |
| AnyFiveActiviesCrawler_plus | âœ… 2ë‹¨ê³„ ê²°ê³¼ | âœ… | âœ… |

---

### 14.5 ì²´í¬ë¦¬ìŠ¤íŠ¸

#### í¬ë¡¤ë§ ì „
- [ ] ë¡œê·¸ì¸ URL ë³€ê²½ ì™„ë£Œ
- [ ] í…Œì´ë¸”ëª… í†µì¼ í™•ì¸
- [ ] ChromeDriver ë²„ì „ í™•ì¸
- [ ] DB ì—°ê²° ì •ë³´ í™•ì¸

#### í¬ë¡¤ë§ í›„
- [ ] ì²¨ë¶€íŒŒì¼ ê°œìˆ˜ ê²€ì¦ (DB vs í´ë”)
- [ ] ì´ë¯¸ì§€ ê°œìˆ˜ ê²€ì¦ (DB vs í´ë”)
- [ ] ë°˜ë ¤ ë¬¸ì„œ í™•ì¸ ë° ìˆ˜ë™ ì²˜ë¦¬
- [ ] ìŠ¤íƒ€ì¼íƒœê·¸ ê²€ì¦ ì™„ë£Œ
- [ ] ê²°ì¬ìˆœì„œ ì •ë ¬ í™•ì¸

---
---

